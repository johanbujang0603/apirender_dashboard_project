(this["webpackJsonpapirender-dashboard"]=this["webpackJsonpapirender-dashboard"]||[]).push([[25],{111:function(e,a,l){"use strict";l.d(a,"a",(function(){return s}));var t=l(81),n=l(4),r=l.n(n),s=function(e){var a=e.label,l=e.handleChange,s=e.orgData,c=Object(n.useState)(null),m=Object(t.a)(c,2),u=m[0],i=m[1],o=Object(n.useState)(s?"".concat(s):null),b=Object(t.a)(o,2),d=b[0],v=b[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"avatar-photo"},r.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){return function(e){i(e.target.files[0]),v(URL.createObjectURL(e.target.files[0])),l(e.target.files[0])}(e)}}),!u&&!s&&r.a.createElement("div",{className:"avatar-uploader-label"},r.a.createElement("span",null,a)),r.a.createElement("img",{src:d,className:"rounded-circle",width:"200",height:"200"})))}},112:function(e,a,l){"use strict";l.d(a,"a",(function(){return t}));var t=[{value:"AF",label:"Afghanistan"},{value:"AX",label:"Aland Islands"},{value:"AL",label:"Albania"},{value:"DZ",label:"Algeria"},{value:"AS",label:"American Samoa"},{value:"AD",label:"Andorra"},{value:"AO",label:"Angola"},{value:"AI",label:"Anguilla"},{value:"AQ",label:"Antarctica"},{value:"AG",label:"Antigua And Barbuda"},{value:"AR",label:"Argentina"},{value:"AM",label:"Armenia"},{value:"AW",label:"Aruba"},{value:"AU",label:"Australia"},{value:"AT",label:"Austria"},{value:"AZ",label:"Azerbaijan"},{value:"BS",label:"Bahamas"},{value:"BH",label:"Bahrain"},{value:"BD",label:"Bangladesh"},{value:"BB",label:"Barbados"},{value:"BY",label:"Belarus"},{value:"BE",label:"Belgium"},{value:"BZ",label:"Belize"},{value:"BJ",label:"Benin"},{value:"BM",label:"Bermuda"},{value:"BT",label:"Bhutan"},{value:"BO",label:"Bolivia"},{value:"BA",label:"Bosnia And Herzegovina"},{value:"BW",label:"Botswana"},{value:"BV",label:"Bouvet Island"},{value:"BR",label:"Brazil"},{value:"IO",label:"British Indian Ocean Territory"},{value:"BN",label:"Brunei Darussalam"},{value:"BG",label:"Bulgaria"},{value:"BF",label:"Burkina Faso"},{value:"BI",label:"Burundi"},{value:"KH",label:"Cambodia"},{value:"CM",label:"Cameroon"},{value:"CA",label:"Canada"},{value:"CV",label:"Cape Verde"},{value:"KY",label:"Cayman Islands"},{value:"CF",label:"Central African Republic"},{value:"TD",label:"Chad"},{value:"CL",label:"Chile"},{value:"CN",label:"China"},{value:"CX",label:"Christmas Island"},{value:"CC",label:"Cocos (Keeling) Islands"},{value:"CO",label:"Colombia"},{value:"KM",label:"Comoros"},{value:"CG",label:"Congo"},{value:"CD",label:"Congo, Democratic Republic"},{value:"CK",label:"Cook Islands"},{value:"CR",label:"Costa Rica"},{value:"CI",label:"Cote D'Ivoire"},{value:"HR",label:"Croatia"},{value:"CU",label:"Cuba"},{value:"CY",label:"Cyprus"},{value:"CZ",label:"Czech Republic"},{value:"DK",label:"Denmark"},{value:"DJ",label:"Djibouti"},{value:"DM",label:"Dominica"},{value:"DO",label:"Dominican Republic"},{value:"EC",label:"Ecuador"},{value:"EG",label:"Egypt"},{value:"SV",label:"El Salvador"},{value:"GQ",label:"Equatorial Guinea"},{value:"ER",label:"Eritrea"},{value:"EE",label:"Estonia"},{value:"ET",label:"Ethiopia"},{value:"FK",label:"Falkland Islands (Malvinas)"},{value:"FO",label:"Faroe Islands"},{value:"FJ",label:"Fiji"},{value:"FI",label:"Finland"},{value:"FR",label:"France"},{value:"GF",label:"French Guiana"},{value:"PF",label:"French Polynesia"},{value:"TF",label:"French Southern Territories"},{value:"GA",label:"Gabon"},{value:"GM",label:"Gambia"},{value:"GE",label:"Georgia"},{value:"DE",label:"Germany"},{value:"GH",label:"Ghana"},{value:"GI",label:"Gibraltar"},{value:"GR",label:"Greece"},{value:"GL",label:"Greenland"},{value:"GD",label:"Grenada"},{value:"GP",label:"Guadeloupe"},{value:"GU",label:"Guam"},{value:"GT",label:"Guatemala"},{value:"GG",label:"Guernsey"},{value:"GN",label:"Guinea"},{value:"GW",label:"Guinea-Bissau"},{value:"GY",label:"Guyana"},{value:"HT",label:"Haiti"},{value:"HM",label:"Heard Island & Mcdonald Islands"},{value:"VA",label:"Holy See (Vatican City State)"},{value:"HN",label:"Honduras"},{value:"HK",label:"Hong Kong"},{value:"HU",label:"Hungary"},{value:"IS",label:"Iceland"},{value:"IN",label:"India"},{value:"ID",label:"Indonesia"},{value:"IR",label:"Iran, Islamic Republic Of"},{value:"IQ",label:"Iraq"},{value:"IE",label:"Ireland"},{value:"IM",label:"Isle Of Man"},{value:"IL",label:"Israel"},{value:"IT",label:"Italy"},{value:"JM",label:"Jamaica"},{value:"JP",label:"Japan"},{value:"JE",label:"Jersey"},{value:"JO",label:"Jordan"},{value:"KZ",label:"Kazakhstan"},{value:"KE",label:"Kenya"},{value:"KI",label:"Kiribati"},{value:"KR",label:"Korea"},{value:"KW",label:"Kuwait"},{value:"KG",label:"Kyrgyzstan"},{value:"LA",label:"Lao People's Democratic Republic"},{value:"LV",label:"Latvia"},{value:"LB",label:"Lebanon"},{value:"LS",label:"Lesotho"},{value:"LR",label:"Liberia"},{value:"LY",label:"Libyan Arab Jamahiriya"},{value:"LI",label:"Liechtenstein"},{value:"LT",label:"Lithuania"},{value:"LU",label:"Luxembourg"},{value:"MO",label:"Macao"},{value:"MK",label:"Macedonia"},{value:"MG",label:"Madagascar"},{value:"MW",label:"Malawi"},{value:"MY",label:"Malaysia"},{value:"MV",label:"Maldives"},{value:"ML",label:"Mali"},{value:"MT",label:"Malta"},{value:"MH",label:"Marshall Islands"},{value:"MQ",label:"Martinique"},{value:"MR",label:"Mauritania"},{value:"MU",label:"Mauritius"},{value:"YT",label:"Mayotte"},{value:"MX",label:"Mexico"},{value:"FM",label:"Micronesia, Federated States Of"},{value:"MD",label:"Moldova"},{value:"MC",label:"Monaco"},{value:"MN",label:"Mongolia"},{value:"ME",label:"Montenegro"},{value:"MS",label:"Montserrat"},{value:"MA",label:"Morocco"},{value:"MZ",label:"Mozambique"},{value:"MM",label:"Myanmar"},{value:"NA",label:"Namibia"},{value:"NR",label:"Nauru"},{value:"NP",label:"Nepal"},{value:"NL",label:"Netherlands"},{value:"AN",label:"Netherlands Antilles"},{value:"NC",label:"New Caledonia"},{value:"NZ",label:"New Zealand"},{value:"NI",label:"Nicaragua"},{value:"NE",label:"Niger"},{value:"NG",label:"Nigeria"},{value:"NU",label:"Niue"},{value:"NF",label:"Norfolk Island"},{value:"MP",label:"Northern Mariana Islands"},{value:"NO",label:"Norway"},{value:"OM",label:"Oman"},{value:"PK",label:"Pakistan"},{value:"PW",label:"Palau"},{value:"PS",label:"Palestinian Territory, Occupied"},{value:"PA",label:"Panama"},{value:"PG",label:"Papua New Guinea"},{value:"PY",label:"Paraguay"},{value:"PE",label:"Peru"},{value:"PH",label:"Philippines"},{value:"PN",label:"Pitcairn"},{value:"PL",label:"Poland"},{value:"PT",label:"Portugal"},{value:"PR",label:"Puerto Rico"},{value:"QA",label:"Qatar"},{value:"RE",label:"Reunion"},{value:"RO",label:"Romania"},{value:"RU",label:"Russian Federation"},{value:"RW",label:"Rwanda"},{value:"BL",label:"Saint Barthelemy"},{value:"SH",label:"Saint Helena"},{value:"KN",label:"Saint Kitts And Nevis"},{value:"LC",label:"Saint Lucia"},{value:"MF",label:"Saint Martin"},{value:"PM",label:"Saint Pierre And Miquelon"},{value:"VC",label:"Saint Vincent And Grenadines"},{value:"WS",label:"Samoa"},{value:"SM",label:"San Marino"},{value:"ST",label:"Sao Tome And Principe"},{value:"SA",label:"Saudi Arabia"},{value:"SN",label:"Senegal"},{value:"RS",label:"Serbia"},{value:"SC",label:"Seychelles"},{value:"SL",label:"Sierra Leone"},{value:"SG",label:"Singapore"},{value:"SK",label:"Slovakia"},{value:"SI",label:"Slovenia"},{value:"SB",label:"Solomon Islands"},{value:"SO",label:"Somalia"},{value:"ZA",label:"South Africa"},{value:"GS",label:"South Georgia And Sandwich Isl."},{value:"ES",label:"Spain"},{value:"LK",label:"Sri Lanka"},{value:"SD",label:"Sudan"},{value:"SR",label:"Suriname"},{value:"SJ",label:"Svalbard And Jan Mayen"},{value:"SZ",label:"Swaziland"},{value:"SE",label:"Sweden"},{value:"CH",label:"Switzerland"},{value:"SY",label:"Syrian Arab Republic"},{value:"TW",label:"Taiwan"},{value:"TJ",label:"Tajikistan"},{value:"TZ",label:"Tanzania"},{value:"TH",label:"Thailand"},{value:"TL",label:"Timor-Leste"},{value:"TG",label:"Togo"},{value:"TK",label:"Tokelau"},{value:"TO",label:"Tonga"},{value:"TT",label:"Trinidad And Tobago"},{value:"TN",label:"Tunisia"},{value:"TR",label:"Turkey"},{value:"TM",label:"Turkmenistan"},{value:"TC",label:"Turks And Caicos Islands"},{value:"TV",label:"Tuvalu"},{value:"UG",label:"Uganda"},{value:"UA",label:"Ukraine"},{value:"AE",label:"United Arab Emirates"},{value:"GB",label:"United Kingdom"},{value:"US",label:"United States"},{value:"UM",label:"United States Outlying Islands"},{value:"UY",label:"Uruguay"},{value:"UZ",label:"Uzbekistan"},{value:"VU",label:"Vanuatu"},{value:"VE",label:"Venezuela"},{value:"VN",label:"Viet Nam"},{value:"VG",label:"Virgin Islands, British"},{value:"VI",label:"Virgin Islands, U.S."},{value:"WF",label:"Wallis And Futuna"},{value:"EH",label:"Western Sahara"},{value:"YE",label:"Yemen"},{value:"ZM",label:"Zambia"},{value:"ZW",label:"Zimbabwe"}]},170:function(e,a,l){"use strict";var t=l(81),n=l(4),r=l.n(n),s=l(11),c=l.n(s),m=l(212),u=l(108),i=l(137),o=l(387),b=l(388),d=l(153),v=l(25),p=l(97),f=l(109),E=l(88),N=l(82),h=l(83),g=l(111);a.a=Object(v.b)(null,{})((function(e){var a=e.history,l=e.user,s=Object(n.useState)(l.email),v=Object(t.a)(s,1)[0],S=Object(n.useState)(""),O=Object(t.a)(S,1)[0],j=Object(n.useState)(""),w=Object(t.a)(j,1)[0],y=Object(n.useState)(l.first_name),P=Object(t.a)(y,1)[0],k=Object(n.useState)(l.last_name),C=Object(t.a)(k,1)[0],M=Object(n.useState)("admin"),A=(Object(t.a)(M,1)[0],Object(n.useState)(!1)),I=Object(t.a)(A,2),x=I[0],T=I[1],G=Object(n.useState)(null),L=Object(t.a)(G,2),B=L[0],F=L[1],q={email:v,firstName:P,lastName:C,password:O,confirmPassword:w};return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(N.a,{sm:{size:8,offset:2},className:"mb-4"},r.a.createElement(u.a,null,r.a.createElement(i.a,null,r.a.createElement(p.c,{initialValues:q,onSubmit:function(e){T(!0);var t=new FormData;t.append("avatar",B),t.append("id",l._id),t.append("first_name",e.firstName),t.append("last_name",e.lastName),t.append("email",e.email),t.append("password",e.password),t.append("is_new",!!B),c.a.post("/api/users/update-admin",t,{headers:{"content-type":"multipart/form-data"}}).then((function(e){return e.data})).then((function(e){T(!1),E.b.success("The user has been updated successfully","Succcess!",3e3,null,null,""),a.push("/admin/users/list")})).catch((function(e){T(!1),E.b.success(e.message,"Error!",3e3,null,null,"")}))},validationSchema:f.a().shape({firstName:f.c().required("First Name is required"),lastName:f.c().required("Last Name is required"),email:f.c().email("Email is invalid").required("Email is required"),password:f.c().min(6,"Password must be at least 6 characters"),confirmPassword:f.c().oneOf([f.b("password"),null],"Passwords must match")})},(function(e){var a=e.errors,t=e.touched;return r.a.createElement(p.b,null,r.a.createElement(o.a,{row:!0},r.a.createElement(N.a,{sm:{size:4,offset:4}},r.a.createElement(o.a,{className:"form-group has-float-label mb-4 text-center"},r.a.createElement("div",{className:"d-flex justify-content-center p-1"},r.a.createElement(g.a,{label:"Upload Profile Pircutre or Company Logo",handleChange:function(e){return F(e)},orgData:l.avatar}))))),r.a.createElement(o.a,{className:"form-group has-float-label  mb-4"},r.a.createElement(b.a,null,r.a.createElement(h.a,{id:"user.firstname"})),r.a.createElement(p.a,{className:"form-control",type:"text",name:"firstName"}),a.firstName&&t.firstName&&r.a.createElement("div",{className:"invalid-feedback d-block"},a.firstName)),r.a.createElement(o.a,{className:"form-group has-float-label  mb-4"},r.a.createElement(b.a,null,r.a.createElement(h.a,{id:"user.lastname"})),r.a.createElement(p.a,{className:"form-control",type:"text",name:"lastName"}),a.lastName&&t.lastName&&r.a.createElement("div",{className:"invalid-feedback d-block"},a.lastName)),r.a.createElement(o.a,{className:"form-group has-float-label  mb-4"},r.a.createElement(b.a,null,r.a.createElement(h.a,{id:"user.email"})),r.a.createElement(p.a,{className:"form-control",name:"email"}),a.email&&t.email&&r.a.createElement("div",{className:"invalid-feedback d-block"},a.email)),r.a.createElement(o.a,{className:"form-group has-float-label  mb-4"},r.a.createElement(b.a,null,r.a.createElement(h.a,{id:"user.password"})),r.a.createElement(p.a,{className:"form-control",type:"password",name:"password"}),a.password&&t.password&&r.a.createElement("div",{className:"invalid-feedback d-block"},a.password)),r.a.createElement(o.a,{className:"form-group has-float-label  mb-4"},r.a.createElement(b.a,null,r.a.createElement(h.a,{id:"user.confirm-password"})),r.a.createElement(p.a,{className:"form-control",type:"password",name:"confirmPassword"}),a.confirmPassword&&t.confirmPassword&&r.a.createElement("div",{className:"invalid-feedback d-block"},a.confirmPassword)),r.a.createElement("div",{className:"d-flex justify-content-end align-items-center"},r.a.createElement(d.a,{color:"primary",className:"btn-shadow btn-multiple-state ".concat(x?"show-spinner":""),size:"lg"},r.a.createElement("span",{className:"spinner d-inline-block"},r.a.createElement("span",{className:"bounce1"}),r.a.createElement("span",{className:"bounce2"}),r.a.createElement("span",{className:"bounce3"})),r.a.createElement("span",{className:"label"},r.a.createElement(h.a,{id:"users.save"})))))})))))))}))},171:function(e,a,l){"use strict";var t=l(114),n=l(81),r=l(4),s=l.n(r),c=l(11),m=l.n(c),u=l(212),i=l(108),o=l(137),b=l(387),d=l(388),v=l(153),p=l(25),f=l(97),E=l(109),N=l(88),h=l(82),g=l(83),S=l(111),O=l(112),j=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/;a.a=Object(p.b)(null,{})((function(e){var a=e.history,l=e.user,c=Object(r.useState)(l.email),p=Object(n.a)(c,1)[0],w=Object(r.useState)(""),y=Object(n.a)(w,1)[0],P=Object(r.useState)(""),k=Object(n.a)(P,1)[0],C=Object(r.useState)(l.first_name),M=Object(n.a)(C,1)[0],A=Object(r.useState)(l.last_name),I=Object(n.a)(A,1)[0],x=Object(r.useState)(l.job_title),T=Object(n.a)(x,1)[0],G=Object(r.useState)(l.phone_number),L=Object(n.a)(G,1)[0],B=Object(r.useState)(l.company_name),F=Object(n.a)(B,1)[0],q=Object(r.useState)(l.country),R=Object(n.a)(q,1)[0],K=Object(r.useState)("customer"),z=Object(n.a)(K,1)[0],V=Object(r.useState)(!1),U=Object(n.a)(V,2),D=(U[0],U[1]),H=Object(r.useState)(null),_=Object(n.a)(H,2),J=_[0],Z=_[1],W={firstName:M,lastName:I,email:p,confirmPassword:k,password:y,companyName:F,jobTitle:T,country:R,role:z,phoneNumber:L};return s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,null,s.a.createElement(h.a,{sm:{size:8,offset:2},className:"mb-4"},s.a.createElement(i.a,null,s.a.createElement(o.a,null,s.a.createElement(f.c,{initialValues:W,onSubmit:function(e){D(!0);var t=new FormData;t.append("avatar",J),t.append("id",l._id),t.append("first_name",e.firstName),t.append("last_name",e.lastName),t.append("phone_number",e.phoneNumber),t.append("email",e.email),t.append("password",e.password),t.append("job_title",e.jobTitle),t.append("company_name",e.companyName),t.append("country",e.country),t.append("is_new",!!J),m.a.post("/api/users/update-customer",t,{headers:{"content-type":"multipart/form-data"}}).then((function(e){return e.data})).then((function(e){D(!1),N.b.success("The user has been updated successfully","Succcess!",3e3,null,null,""),a.push("/admin/users/list")})).catch((function(e){D(!1),N.b.success(e.message,"Error!",3e3,null,null,"")}))},validationSchema:E.a().shape({firstName:E.c().required("Full Name is required"),lastName:E.c().required("Last Name is required"),jobTitle:E.c().required("Job title is required"),companyName:E.c().required("Company name is required"),email:E.c().email("Email is invalid").required("Email is required"),emailPreference:E.c().email("Email Preference is invalid").required("Email Preference is required"),password:E.c().min(6,"Password must be at least 6 characters"),confirmPassword:E.c().oneOf([E.b("password")],"Passwords must match"),country:E.c().required("Address is required"),phoneNumber:E.c().matches(j,"Phone number is not valid")})},(function(e){var a=e.errors,n=e.touched;return s.a.createElement(f.b,null,s.a.createElement(b.a,{row:!0},s.a.createElement(h.a,{sm:{size:4,offset:4}},s.a.createElement(b.a,{className:"form-group has-float-label mb-4 text-center"},s.a.createElement("div",{className:"d-flex justify-content-center p-1"},s.a.createElement(S.a,{label:"Upload Profile Pircutre or Company Logo",handleChange:function(e){return Z(e)},orgData:l.avatar})))),s.a.createElement(h.a,{sm:6},s.a.createElement(b.a,{className:"form-group has-float-label  mb-4"},s.a.createElement(d.a,null,s.a.createElement(g.a,{id:"user.firstname"})),s.a.createElement(f.a,{className:"form-control",type:"text",name:"firstName"}),a.firstName&&n.firstName&&s.a.createElement("div",{className:"invalid-feedback d-block"},a.firstName))),s.a.createElement(h.a,{sm:6},s.a.createElement(b.a,{className:"form-group has-float-label  mb-4"},s.a.createElement(d.a,null,s.a.createElement(g.a,{id:"user.lastname"})),s.a.createElement(f.a,{className:"form-control",type:"text",name:"lastName"}),a.lastName&&n.lastName&&s.a.createElement("div",{className:"invalid-feedback d-block"},a.lastName))),s.a.createElement(h.a,{sm:12},s.a.createElement(b.a,{className:"form-group has-float-label  mb-4"},s.a.createElement(d.a,null,s.a.createElement(g.a,{id:"user.phone_number"})),s.a.createElement(f.a,{className:"form-control",name:"phoneNumber"}),a.phoneNumber&&n.phoneNumber&&s.a.createElement("div",{className:"invalid-feedback d-block"},a.phoneNumber))),s.a.createElement(h.a,{sm:12},s.a.createElement(b.a,{className:"form-group has-float-label  mb-4"},s.a.createElement(d.a,null,s.a.createElement(g.a,{id:"user.email"})),s.a.createElement(f.a,{className:"form-control",name:"email"}),a.email&&n.email&&s.a.createElement("div",{className:"invalid-feedback d-block"},a.email))),s.a.createElement(h.a,{sm:12},s.a.createElement(b.a,{className:"form-group has-float-label  mb-4"},s.a.createElement(d.a,null,s.a.createElement(g.a,{id:"user.password",defaultValue:y,value:y})),s.a.createElement(f.a,{className:"form-control",type:"password",name:"password"}),a.password&&n.password&&s.a.createElement("div",{className:"invalid-feedback d-block"},a.password))),s.a.createElement(h.a,{sm:12},s.a.createElement(b.a,{className:"form-group has-float-label  mb-4"},s.a.createElement(d.a,null,s.a.createElement(g.a,{id:"user.confirm-password",defaultValue:k,value:k})),s.a.createElement(f.a,{className:"form-control",type:"password",name:"confirmPassword"}),a.confirmPassword&&n.confirmPassword&&s.a.createElement("div",{className:"invalid-feedback d-block"},a.confirmPassword))),s.a.createElement(h.a,{sm:6},s.a.createElement(b.a,{className:"form-group has-float-label  mb-4"},s.a.createElement(d.a,null,s.a.createElement(g.a,{id:"user.companyname",defaultValue:F,value:F})),s.a.createElement(f.a,{className:"form-control",type:"text",name:"companyName"}),a.companyName&&n.companyName&&s.a.createElement("div",{className:"invalid-feedback d-block"},a.companyName))),s.a.createElement(h.a,{sm:6},s.a.createElement(b.a,{className:"form-group has-float-label  mb-4"},s.a.createElement(d.a,null,s.a.createElement(g.a,{id:"user.job-title",defaultValue:T,value:T})),s.a.createElement(f.a,{className:"form-control",type:"text",name:"jobTitle"}),a.jobTitle&&n.jobTitle&&s.a.createElement("div",{className:"invalid-feedback d-block"},a.jobTitle))),s.a.createElement(h.a,{sm:12},s.a.createElement(b.a,{className:"form-group has-float-label  mb-4"},s.a.createElement(d.a,null,s.a.createElement(g.a,{id:"user.country",defaultValue:R,value:R})),s.a.createElement(f.a,{name:"country",render:function(e){var a=e.field,l=e.form,n=l.errors,r=l.touched,c=n.country&&r.country?"hasError":"",m=s.a.createElement("option",{key:"default",value:"Please Select"},"Please Select"),u=O.a.map((function(e,a){return s.a.createElement("option",{key:a,value:e.value}," ",e.label," ")})),i=[m].concat(Object(t.a)(u));return s.a.createElement("select",Object.assign({className:"form-control",value:a.value},a,{id:c}),i)}}),a.country&&n.country&&s.a.createElement("div",{className:"invalid-feedback d-block"},a.country)))),s.a.createElement("div",{className:"d-flex justify-content-end align-items-center"},s.a.createElement(v.a,{type:"submit",color:"primary",className:"btn-shadow",size:"lg"},s.a.createElement(g.a,{id:"users.save"}))))})))))))}))},371:function(e,a,l){"use strict";l.r(a);var t=l(5),n=l(81),r=l(4),s=l.n(r),c=l(11),m=l.n(c),u=l(212),i=l(108),o=l(137),b=l(387),d=l(388),v=l(153),p=l(25),f=l(97),E=l(109),N=l(88),h=l(82),g=l(83),S=l(1),O=l(372),j=l.n(O);a.default=Object(p.b)(null,{registerUserAction:S.K})((function(e){e.intl,e.match;var a=e.history,l=Object(r.useState)(""),c=Object(n.a)(l,1)[0],p=Object(r.useState)(""),S=Object(n.a)(p,1)[0],O=Object(r.useState)(""),w=Object(n.a)(O,1)[0],y=Object(r.useState)(""),P=Object(n.a)(y,1)[0],k=Object(r.useState)(""),C=Object(n.a)(k,1)[0],M=Object(r.useState)("admin"),A=Object(n.a)(M,1)[0],I=Object(r.useState)(!1),x=Object(n.a)(I,2),T=x[0],G=x[1],L=Object(r.useState)(null),B=Object(n.a)(L,2),F=B[0],q=(B[1],Object(r.useState)(null)),R=Object(n.a)(q,2),K=R[0],z=R[1],V={firstName:P,lastName:C,email:c,confirmPassword:w,password:S,role:A};return s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,null,s.a.createElement(h.a,{xxs:"12"},s.a.createElement("h1",null,s.a.createElement(g.a,{id:"menu.new-user"})),s.a.createElement(h.b,{className:"mb-5"}))),s.a.createElement(u.a,null,s.a.createElement(h.a,{sm:"12",md:"6"},s.a.createElement(i.a,null,s.a.createElement(o.a,null,s.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},s.a.createElement(j.a,{width:400,height:400,onCrop:function(e){z(e)},onClose:function(){z(null)},onBeforeFileLoad:function(e){e.target.files[0].size>716800&&(alert("File is too big!"),e.target.value="")},src:F}))))),s.a.createElement(h.a,{sm:"12",md:"6",className:"mb-4"},s.a.createElement(i.a,null,s.a.createElement(o.a,null,s.a.createElement(f.c,{initialValues:V,onSubmit:function(e){G(!0);var l=Object(t.a)(Object(t.a)({},e),{},{avatar:K});m.a.post("/api/users/register",l).then((function(e){return e.data})).then((function(e){G(!1),N.b.success("The user has been registered successfully","Succcess!",3e3,null,null,""),a.push("/admin/users/list")})).catch((function(e){G(!1),N.b.success(e.message,"Error!",3e3,null,null,"")}))},validationSchema:E.a().shape({firstName:E.c().required("First Name is required"),lastName:E.c().required("Last Name is required"),email:E.c().email("Email is invalid").required("Email is required"),password:E.c().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:E.c().oneOf([E.b("password"),null],"Passwords must match").required("Confirm Password is required")})},(function(e){var a=e.errors,l=e.touched;return s.a.createElement(f.b,null,s.a.createElement(b.a,{className:"form-group has-float-label mb-4 text-center"},K?s.a.createElement("img",{src:K,alt:"avatar"}):s.a.createElement("img",{src:"/assets/img/avatar.png",alt:"avatar"})),s.a.createElement(b.a,{className:"form-group has-float-label  mb-4"},s.a.createElement(d.a,null,s.a.createElement(g.a,{id:"user.firstname"})),s.a.createElement(f.a,{className:"form-control",type:"text",name:"firstName"}),a.firstName&&l.firstName&&s.a.createElement("div",{className:"invalid-feedback d-block"},a.firstName)),s.a.createElement(b.a,{className:"form-group has-float-label  mb-4"},s.a.createElement(d.a,null,s.a.createElement(g.a,{id:"user.lastname"})),s.a.createElement(f.a,{className:"form-control",type:"text",name:"lastName"}),a.lastName&&l.lastName&&s.a.createElement("div",{className:"invalid-feedback d-block"},a.lastName)),s.a.createElement(b.a,{className:"form-group has-float-label  mb-4"},s.a.createElement(d.a,null,s.a.createElement(g.a,{id:"user.email"})),s.a.createElement(f.a,{className:"form-control",name:"email"}),a.email&&l.email&&s.a.createElement("div",{className:"invalid-feedback d-block"},a.email)),s.a.createElement(b.a,{className:"form-group has-float-label  mb-4"},s.a.createElement(d.a,null,s.a.createElement(g.a,{id:"user.password",defaultValue:S,value:S})),s.a.createElement(f.a,{className:"form-control",type:"password",name:"password"}),a.password&&l.password&&s.a.createElement("div",{className:"invalid-feedback d-block"},a.password)),s.a.createElement(b.a,{className:"form-group has-float-label  mb-4"},s.a.createElement(d.a,null,s.a.createElement(g.a,{id:"user.confirm-password",defaultValue:w,value:w})),s.a.createElement(f.a,{className:"form-control",type:"password",name:"confirmPassword"}),a.confirmPassword&&l.confirmPassword&&s.a.createElement("div",{className:"invalid-feedback d-block"},a.confirmPassword)),s.a.createElement("div",{className:"d-flex justify-content-end align-items-center"},s.a.createElement(v.a,{color:"primary",className:"btn-shadow btn-multiple-state ".concat(T?"show-spinner":""),size:"lg"},s.a.createElement("span",{className:"spinner d-inline-block"},s.a.createElement("span",{className:"bounce1"}),s.a.createElement("span",{className:"bounce2"}),s.a.createElement("span",{className:"bounce3"})),s.a.createElement("span",{className:"label"},s.a.createElement(g.a,{id:"user.register-button"})))))})))))))}))},373:function(e,a,l){"use strict";l.r(a);var t=l(2),n=l.n(t),r=l(12),s=l(81),c=l(4),m=l.n(c),u=l(11),i=l.n(u),o=l(212),b=l(82),d=l(25),v=l(83),p=l(170),f=l(171);a.default=Object(d.b)(null,{})((function(e){e.intl;var a=e.match,l=e.history,t=Object(c.useState)({}),u=Object(s.a)(t,2),d=u[0],E=u[1],N=Object(c.useState)(!1),h=Object(s.a)(N,2),g=h[0],S=h[1];return Object(c.useEffect)((function(){function e(){return(e=Object(r.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/api/users/detail?id=".concat(a.params.id)).then((function(e){return e.data})).then((function(e){E(e.data),S(!0)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a.params.id]),g?m.a.createElement(m.a.Fragment,null,m.a.createElement(o.a,null,m.a.createElement(b.a,{xxs:"12"},m.a.createElement("h1",null,m.a.createElement(v.a,{id:"menu.update-user"})),m.a.createElement(b.b,{className:"mb-5"}))),"admin"===d.role?m.a.createElement(p.a,{user:d,history:l}):m.a.createElement(f.a,{user:d,history:l})):m.a.createElement("div",{className:"loading"})}))},380:function(e,a,l){"use strict";l.r(a);var t=l(2),n=l.n(t),r=l(12),s=l(81),c=l(4),m=l.n(c),u=l(11),i=l.n(u),o=l(212),b=l(153),d=l(396),v=l(432),p=l(433),f=l(391),E=l(393),N=l(134),h=l(86),g=l(82),S=l(83),O=Object(N.c)((function(e){var a=e.intl,l=e.changePageSize,t=e.selectedPageSize,n=e.totalItemCount,r=(e.match,e.startIndex),u=e.endIndex,i=(e.selectedItemsLength,e.itemsLength,e.onSearchKey),N=e.pageSizes,O=e.heading,j=Object(c.useState)(!1),w=Object(s.a)(j,2),y=w[0],P=w[1],k=a.messages;return m.a.createElement(o.a,null,m.a.createElement(g.a,{xxs:"12"},m.a.createElement("div",{className:"mb-2"},m.a.createElement("h1",null,m.a.createElement(S.a,{id:O})),m.a.createElement("div",{className:"text-zero top-right-button-container"},m.a.createElement(h.b,{exact:!0,to:"/admin/users/new/",className:"top-right-button btn btn-primary btn-lg"},m.a.createElement(S.a,{id:"users.add-new"})),"  ")),m.a.createElement("div",{className:"mb-2"},m.a.createElement(b.a,{color:"empty",className:"pt-0 pl-0 d-inline-block d-md-none",onClick:function(){return P(!y)}},m.a.createElement(S.a,{id:"pages.display-options"})," ",m.a.createElement("i",{className:"simple-icon-arrow-down align-middle"})),m.a.createElement(d.a,{isOpen:y,className:"d-md-block",id:"displayOptions"},m.a.createElement("div",{className:"d-block d-md-inline-block pt-1"},m.a.createElement("div",{className:"search-sm d-inline-block float-md-left mr-1 mb-1 align-top"},m.a.createElement("input",{type:"text",name:"keyword",id:"search",placeholder:k["menu.search"],onKeyPress:function(e){return i(e)}}))),m.a.createElement("div",{className:"float-md-right pt-1"},m.a.createElement("span",{className:"text-muted text-small mr-1"},"".concat(r,"-").concat(u," of ").concat(n," ")),m.a.createElement(v.a,{className:"d-inline-block"},m.a.createElement(p.a,{caret:!0,color:"outline-dark",size:"xs"},t),m.a.createElement(f.a,{right:!0},N.map((function(e,a){return m.a.createElement(E.a,{key:a,onClick:function(){return l(e)}},e)}))))))),m.a.createElement(g.b,{className:"mb-5"})))})),j=l(394),w=l(395),y=l(129),P=function(e){var a=e.totalPage,l=void 0===a?0:a,t=e.currentPage,n=void 0===t?1:t,r=e.numberLimit,s=void 0===r?5:r,c=e.lastIsActive,u=void 0===c||c,i=e.firstIsActive,o=void 0===i||i,b=e.onChangePage,d=1,v=s;s>l?(d=1,v=l):n<=parseInt(s/2,10)?(d=1,v=s):n+parseInt(s/2,10)<=l?(d=n-parseInt(s/2,10),v=n+parseInt(s/2,10)):(d=l-(s-1),v=l);for(var p=[],f=d=0===d?1:d;f<=v;f+=1)p.push(f);var E=n<=1?"disabled":"",N=n>=l?"disabled":"",h=n<=1?"disabled":"",S=n>=l?"disabled":"";return l>1?m.a.createElement(g.a,{xxs:"12",className:"mt-3 mb-3"},m.a.createElement(j.a,{className:"pagination justify-content-center"},o&&m.a.createElement(w.a,{className:"page-item ".concat(E)},m.a.createElement(y.a,{className:"page-link first c-pointer",onClick:function(){return b(1)}},m.a.createElement("i",{className:"simple-icon-control-start"}))),m.a.createElement(w.a,{className:"page-item ".concat(h)},m.a.createElement(y.a,{className:"page-link prev c-pointer",onClick:function(){return b(n-1)}},m.a.createElement("i",{className:"simple-icon-arrow-left"}))),p.map((function(e){return m.a.createElement(w.a,{key:e,className:"page-item ".concat(n===e&&"active")},m.a.createElement(y.a,{className:"page-link c-pointer",onClick:function(){return b(e)}},e))})),m.a.createElement(w.a,{className:"page-item ".concat(S)},m.a.createElement(y.a,{className:"page-link next c-pointer",onClick:function(){return b(n+1)}},m.a.createElement("i",{className:"simple-icon-arrow-right"}))),u&&m.a.createElement(w.a,{className:"page-item ".concat(N)},m.a.createElement(y.a,{className:"page-link last c-pointer",onClick:function(){return b(l)}},m.a.createElement("i",{className:"simple-icon-control-end"}))))):m.a.createElement(g.a,{xxs:"12",className:"mt-2"})},k=l(108),C=l(107),M=l.n(C),A=m.a.memo((function(e){var a=e.items,l=e.currentPage,t=e.totalPage,n=e.onChangePage;return m.a.createElement(o.a,null,a.map((function(e,a){return m.a.createElement(g.a,{xxs:"12",className:"mb-3",key:a},m.a.createElement(k.a,{className:"d-flex flex-row"},m.a.createElement("div",{className:"pl-2 d-flex flex-grow-1 min-width-zero"},m.a.createElement("div",{className:"card-body align-self-center d-flex flex-column flex-lg-row justify-content-between min-width-zero align-items-lg-center"},m.a.createElement(h.b,{to:"/admin/users/detail/".concat(e._id),className:"list-item-heading mb-1 truncate w-25"},e.first_name+" "+e.last_name),m.a.createElement("p",{className:"mb-1 text-small w-20 w-sm-100 text-primary"},e.email),m.a.createElement("p",{className:"mb-1 text-muted text-small w-10 w-sm-100"},e.role),m.a.createElement("p",{className:"mb-1 text-muted text-small w-30 w-sm-100"},M()(e.date).format("LLLL"))))))})),m.a.createElement(P,{currentPage:l,totalPage:t,onChangePage:function(e){return n(e)}}))})),I=[4,8,12,20];a.default=function(e){var a=e.match,l=Object(c.useState)(!1),t=Object(s.a)(l,2),u=t[0],o=t[1],b=Object(c.useState)(1),d=Object(s.a)(b,2),v=d[0],p=d[1],f=Object(c.useState)(8),E=Object(s.a)(f,2),N=E[0],h=E[1],g=Object(c.useState)(0),S=Object(s.a)(g,2),j=S[0],w=S[1],y=Object(c.useState)(1),P=Object(s.a)(y,2),k=P[0],C=P[1],M=Object(c.useState)(""),x=Object(s.a)(M,2),T=x[0],G=x[1],L=Object(c.useState)([]),B=Object(s.a)(L,2),F=B[0],q=B[1],R=Object(c.useState)([]),K=Object(s.a)(R,2),z=K[0],V=K[1];Object(c.useEffect)((function(){p(1)}),[N]),Object(c.useEffect)((function(){function e(){return(e=Object(r.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/api/users/list?pageSize=".concat(N,"&currentPage=").concat(v,"&search=").concat(T)).then((function(e){return e.data})).then((function(e){C(e.totalPage),V(e.data),q([]),w(e.totalItem),o(!0)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[N,v,T]);var U=(v-1)*N,D=v*N;return u?m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"disable-text-selection"},m.a.createElement(O,{heading:"users.all",changePageSize:h,selectedPageSize:N,totalItemCount:j,match:a,startIndex:U,endIndex:D,selectedItemsLength:F?F.length:0,itemsLength:z?z.length:0,onSearchKey:function(e){"Enter"===e.key&&G(e.target.value.toLowerCase())},pageSizes:I}),m.a.createElement(A,{items:z,currentPage:v,totalPage:k,onChangePage:p}))):m.a.createElement("div",{className:"loading"})}}}]);
//# sourceMappingURL=users-new.9ba25eae.chunk.js.map