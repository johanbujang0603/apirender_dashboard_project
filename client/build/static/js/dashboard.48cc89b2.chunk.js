(this["webpackJsonpapirender-dashboard"]=this["webpackJsonpapirender-dashboard"]||[]).push([[10],{100:function(e,a,t){"use strict";var s=t(7),l=t(11),c=t(3),r=t.n(c),n=t(34),m=t.n(n),o=t(80),i=t.n(o),d=t(83),u=["className","cssModule","color","body","inverse","outline","tag","innerRef"],b={tag:d.q,inverse:m.a.bool,color:m.a.string,body:m.a.bool,outline:m.a.bool,className:m.a.string,cssModule:m.a.object,innerRef:m.a.oneOfType([m.a.object,m.a.string,m.a.func])},p=function(e){var a=e.className,t=e.cssModule,c=e.color,n=e.body,m=e.inverse,o=e.outline,b=e.tag,p=e.innerRef,E=Object(l.a)(e,u),g=Object(d.m)(i()(a,"card",!!m&&"text-white",!!n&&"card-body",!!c&&(o?"border":"bg")+"-"+c),t);return r.a.createElement(b,Object(s.a)({},E,{className:g,ref:p}))};p.propTypes=b,p.defaultProps={tag:"div"},a.a=p},103:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));const s={DRAFT:"draft","WAITING FOR FILES":"waiting","REQUEST QUOTE":"waiting","IN PROGRESS":"progress",REVIEW:"review",COMPLETED:"completed"}},119:function(e,a,t){"use strict";var s=t(7),l=t(11),c=t(3),r=t.n(c),n=t(34),m=t.n(n),o=t(80),i=t.n(o),d=t(83),u=["className","cssModule","tag"],b={tag:d.q,className:m.a.string,cssModule:m.a.object},p=function(e){var a=e.className,t=e.cssModule,c=e.tag,n=Object(l.a)(e,u),m=Object(d.m)(i()(a,"card-title"),t);return r.a.createElement(c,Object(s.a)({},n,{className:m}))};p.propTypes=b,p.defaultProps={tag:"div"},a.a=p},134:function(e,a,t){"use strict";var s=t(7),l=t(11),c=t(3),r=t.n(c),n=t(34),m=t.n(n),o=t(80),i=t.n(o),d=t(83),u=["className","cssModule","innerRef","tag"],b={tag:d.q,className:m.a.string,cssModule:m.a.object,innerRef:m.a.oneOfType([m.a.object,m.a.string,m.a.func])},p=function(e){var a=e.className,t=e.cssModule,c=e.innerRef,n=e.tag,m=Object(l.a)(e,u),o=Object(d.m)(i()(a,"card-body"),t);return r.a.createElement(n,Object(s.a)({},m,{className:o,ref:c}))};p.propTypes=b,p.defaultProps={tag:"div"},a.a=p},437:function(e,a,t){"use strict";t.r(a);var s=t(3),l=t.n(s),c=t(216),r=t(8),n=t.n(r),m=t(79),o=t(78),i=t(100),d=t(134);var u=l.a.memo(e=>{let{className:a="mb-4",icon:t,title:s,value:c}=e;return l.a.createElement("div",{className:"icon-row-item ".concat(a)},l.a.createElement(i.a,null,l.a.createElement(d.a,{className:"text-center"},l.a.createElement("i",{className:t}),l.a.createElement("p",{className:"card-text font-weight-semibold mb-0"},l.a.createElement(m.a,{id:s})),l.a.createElement("p",{className:"lead text-center"},c))))});var b=e=>{let{data:a}=e;return l.a.createElement(c.a,{className:"icon-cards-row"},a.map((e,a)=>l.a.createElement(o.a,{lg:"2",xl:"2",className:"mb-4",key:"icon_card_".concat(a)},l.a.createElement(u,Object.assign({},e,{className:"mb-4"})))))};a.default=e=>{let{match:a}=e;const[t,r]=Object(s.useState)([]);return Object(s.useEffect)(()=>{n.a.post("/api/dashboard/admin-statistics").then(e=>e.data).then(e=>{r([{title:"dashboards.total-projects-in-progress",icon:"iconsminds-clock",value:e.totalProjectsInProgress},{title:"dashboards.total-payments",icon:"iconsminds-clock",value:"AU$"+e.totalPayments},{title:"dashboards.total-projects-awaiting",icon:"iconsminds-clock",value:e.totalProjectsAwaiting},{title:"dashboards.total-projects-completed",icon:"iconsminds-clock",value:e.totalProjectsCompleted}])})},[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,null,l.a.createElement(o.a,{xxs:"12"},l.a.createElement("div",{className:"mb-2"},l.a.createElement("h1",null,l.a.createElement(m.a,{id:"menu.dashboard"}))),l.a.createElement(o.b,{className:"mb-5"}))),l.a.createElement(c.a,null,l.a.createElement(o.a,{lg:"12",xl:"12",className:"mb-4"},t&&l.a.createElement(b,{data:t})),l.a.createElement(o.a,{lg:"8",xl:"4",className:"mb-4"})))}},440:function(e,a,t){"use strict";t.r(a);var s=t(3),l=t.n(s),c=t(216),r=t(20),n=t(127),m=t(82),o=t(8),i=t.n(o),d=t(79),u=t(78),b=t(99),p=t.n(b),E=t(95),g=t.n(E),N=t(100),f=t(134),h=t(119),v=t(412),j=t(96),w=t(103);var x=e=>l.a.createElement(N.a,null,l.a.createElement("div",{className:"position-absolute card-top-buttons"},l.a.createElement("button",{type:"button",className:"btn btn-header-light icon-button"},l.a.createElement("i",{className:"simple-icon-refresh"}))),l.a.createElement(f.a,null,l.a.createElement(h.a,null,l.a.createElement(d.a,{id:"dashboards.recent-projects"})),l.a.createElement("div",{className:"scroll dashboard-list-with-thumbs"},l.a.createElement(g.a,{options:{suppressScrollX:!0,wheelPropagation:!1}},e.data.map((e,a)=>{let t=j.b.find(a=>a.value===e.category);return l.a.createElement("div",{key:a,className:"d-flex flex-row mb-3"},l.a.createElement(m.b,{to:"/app/projects/details/".concat(e._id),className:"d-block position-relative"},l.a.createElement("img",{src:t.img,alt:e.project_name,className:"border-0",style:{width:"110px"}}),l.a.createElement(v.a,{color:w.a[e.status],key:a,className:"position-absolute badge-top-right",pill:!0},e.status)),l.a.createElement("div",{className:"pl-3 pt-2 pr-2 pb-2"},l.a.createElement(m.b,{to:"/app/projects/details/".concat(e._id)},l.a.createElement("p",{className:"list-item-heading"},e.project_name),l.a.createElement("div",{className:"pr-4"},l.a.createElement("p",{className:"text-muted mb-1 text-small"},t.desc)),l.a.createElement("div",{className:"text-primary text-small font-weight-medium d-none d-sm-block"},p()(e.date).format("LLLL")))))})))));var _=e=>{let{className:a="",comments:t}=e;return l.a.createElement(N.a,{className:a},l.a.createElement(f.a,null,l.a.createElement(h.a,null,l.a.createElement(d.a,{id:"dashboards.recent-messages"})),l.a.createElement("div",{className:"dashboard-list-with-user"},l.a.createElement(g.a,{options:{suppressScrollX:!0,wheelPropagation:!1}},t.map((e,a)=>l.a.createElement("div",{key:a,className:"d-flex flex-row mb-3 pb-3 border-bottom"},l.a.createElement(m.b,{to:"#"},null!=e.user_details.avatar?l.a.createElement("img",{alt:e.user_details.first_name+" "+e.user_details.last_name,className:"img-object-fit border-0 rounded-circle",width:"40",height:"40",src:"/".concat(e.user_details.avatar)}):l.a.createElement("img",{alt:e.user_details.first_name+" "+e.user_details.last_name,className:"img-object-fit border-0 rounded-circle",width:"40",height:"40",src:"/assets/img/avatar.png"})),l.a.createElement("div",{className:"pl-3 pr-2"},l.a.createElement(m.b,{to:"/app/projects/view-briefing/".concat(e.service_id)},l.a.createElement("p",{className:"font-weight-medium mb-0"},e.message),l.a.createElement("p",{className:"text-muted mb-0 text-small"},e.user_details.first_name+" "+e.user_details.last_name,"\xa0|\xa0",e.project_name," | ",p()(e.date).format("LLLL"))))))))))};a.default=Object(n.c)(Object(r.b)(e=>{let{authUser:a}=e;return{loginUser:a.user}},{})(e=>{let{match:a,loginUser:t}=e;const[r,n]=Object(s.useState)(!0),[o,b]=Object(s.useState)([]),[p,E]=Object(s.useState)([]);return Object(s.useEffect)(()=>{let e=!1;return i.a.post("/api/projects/get-latest",{user_id:t._id,role:t.role}).then(e=>e.data).then(a=>{e||(n(!1),b(a.projects),E(a.messages))}),()=>{e=!0}},[t]),r?l.a.createElement("div",{className:"loading"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,null,l.a.createElement(u.a,{xxs:"12"},l.a.createElement("div",{className:"mb-2"},l.a.createElement("h1",null,l.a.createElement(d.a,{id:"menu.welcome"})," ","".concat(t.first_name)),0===o.length&&l.a.createElement("div",{className:"text-zero top-right-button-container"},l.a.createElement(m.b,{exact:!0,to:"/app/projects/new-project",className:"top-right-button btn btn-primary btn-lg"},l.a.createElement(d.a,{id:"projects.add-new"})))),l.a.createElement(u.b,{className:"mb-5"}))),l.a.createElement(c.a,null,l.a.createElement(u.a,{lg:"8",xl:"4",className:"mb-4"},0!==o.length&&l.a.createElement(x,{data:o})),l.a.createElement(u.a,{lg:"8",xl:"4",className:"mb-4"},0!==p.length&&l.a.createElement(_,{comments:p}))))}))}}]);
//# sourceMappingURL=dashboard.48cc89b2.chunk.js.map