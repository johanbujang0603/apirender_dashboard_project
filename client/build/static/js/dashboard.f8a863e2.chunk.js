(this["webpackJsonpapirender-dashboard"]=this["webpackJsonpapirender-dashboard"]||[]).push([[10],{108:function(e,a,t){"use strict";var n=t(9),s=t(15),c=t(4),r=t.n(c),l=t(37),o=t.n(l),m=t(84),i=t.n(m),d=t(87),u={tag:d.q,inverse:o.a.bool,color:o.a.string,body:o.a.bool,outline:o.a.bool,className:o.a.string,cssModule:o.a.object,innerRef:o.a.oneOfType([o.a.object,o.a.string,o.a.func])},b=function(e){var a=e.className,t=e.cssModule,c=e.color,l=e.body,o=e.inverse,m=e.outline,u=e.tag,b=e.innerRef,p=Object(s.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),E=Object(d.m)(i()(a,"card",!!o&&"text-white",!!l&&"card-body",!!c&&(m?"border":"bg")+"-"+c),t);return r.a.createElement(u,Object(n.a)({},p,{className:E,ref:b}))};b.propTypes=u,b.defaultProps={tag:"div"},a.a=b},110:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));var n={DRAFT:"draft","WAITING FOR FILES":"waiting","IN PROGRESS":"progress",REVIEW:"review",COMPLETED:"completed"}},126:function(e,a,t){"use strict";var n=t(9),s=t(15),c=t(4),r=t.n(c),l=t(37),o=t.n(l),m=t(84),i=t.n(m),d=t(87),u={tag:d.q,className:o.a.string,cssModule:o.a.object},b=function(e){var a=e.className,t=e.cssModule,c=e.tag,l=Object(s.a)(e,["className","cssModule","tag"]),o=Object(d.m)(i()(a,"card-title"),t);return r.a.createElement(c,Object(n.a)({},l,{className:o}))};b.propTypes=u,b.defaultProps={tag:"div"},a.a=b},137:function(e,a,t){"use strict";var n=t(9),s=t(15),c=t(4),r=t.n(c),l=t(37),o=t.n(l),m=t(84),i=t.n(m),d=t(87),u={tag:d.q,className:o.a.string,cssModule:o.a.object,innerRef:o.a.oneOfType([o.a.object,o.a.string,o.a.func])},b=function(e){var a=e.className,t=e.cssModule,c=e.innerRef,l=e.tag,o=Object(s.a)(e,["className","cssModule","innerRef","tag"]),m=Object(d.m)(i()(a,"card-body"),t);return r.a.createElement(l,Object(n.a)({},o,{className:m,ref:c}))};b.propTypes=u,b.defaultProps={tag:"div"},a.a=b},419:function(e,a,t){"use strict";t.r(a);var n=t(81),s=t(4),c=t.n(s),r=t(212),l=t(25),o=t(134),m=t(86),i=t(11),d=t.n(i),u=t(83),b=t(82),p=t(107),E=t.n(p),f=t(101),g=t.n(f),N=t(108),v=t(137),h=t(126),j=t(395),O=t(102),x=t(110),w=function(e){return c.a.createElement(N.a,null,c.a.createElement("div",{className:"position-absolute card-top-buttons"},c.a.createElement("button",{type:"button",className:"btn btn-header-light icon-button"},c.a.createElement("i",{className:"simple-icon-refresh"}))),c.a.createElement(v.a,null,c.a.createElement(h.a,null,c.a.createElement(u.a,{id:"dashboards.recent-projects"})),c.a.createElement("div",{className:"scroll dashboard-list-with-thumbs"},c.a.createElement(g.a,{options:{suppressScrollX:!0,wheelPropagation:!1}},e.data.map((function(e,a){var t=O.b.find((function(a){return a.value===e.category}));return c.a.createElement("div",{key:a,className:"d-flex flex-row mb-3"},c.a.createElement(m.b,{to:"/app/projects/details/".concat(e._id),className:"d-block position-relative"},c.a.createElement("img",{src:t.img,alt:e.project_name,className:"border-0",style:{width:"110px"}}),c.a.createElement(j.a,{color:x.a[e.status],key:a,className:"position-absolute badge-top-right",pill:!0},e.status)),c.a.createElement("div",{className:"pl-3 pt-2 pr-2 pb-2"},c.a.createElement(m.b,{to:"/app/projects/details/".concat(e._id)},c.a.createElement("p",{className:"list-item-heading"},e.project_name),c.a.createElement("div",{className:"pr-4"},c.a.createElement("p",{className:"text-muted mb-1 text-small"},t.desc)),c.a.createElement("div",{className:"text-primary text-small font-weight-medium d-none d-sm-block"},E()(e.date).format("LLLL")))))}))))))},_=function(e){var a=e.className,t=void 0===a?"":a,n=e.comments;return c.a.createElement(N.a,{className:t},c.a.createElement(v.a,null,c.a.createElement(h.a,null,c.a.createElement(u.a,{id:"dashboards.recent-messages"})),c.a.createElement("div",{className:"dashboard-list-with-user"},c.a.createElement(g.a,{options:{suppressScrollX:!0,wheelPropagation:!1}},n.map((function(e,a){return c.a.createElement("div",{key:a,className:"d-flex flex-row mb-3 pb-3 border-bottom"},c.a.createElement(m.b,{to:"#"},null!=e.user_details.avatar?c.a.createElement("img",{alt:e.user_details.first_name+" "+e.user_details.last_name,className:"img-object-fit border-0 rounded-circle",width:"40",height:"40",src:"/".concat(e.user_details.avatar)}):c.a.createElement("img",{alt:e.user_details.first_name+" "+e.user_details.last_name,className:"img-object-fit border-0 rounded-circle",width:"40",height:"40",src:"/assets/img/avatar.png"})),c.a.createElement("div",{className:"pl-3 pr-2"},c.a.createElement(m.b,{to:"/app/projects/view-briefing/".concat(e.service_id)},c.a.createElement("p",{className:"font-weight-medium mb-0"},e.message),c.a.createElement("p",{className:"text-muted mb-0 text-small"},e.user_details.first_name+" "+e.user_details.last_name,"\xa0|\xa0",e.project_name," | ",E()(e.date).format("LLLL")))))}))))))};a.default=Object(o.c)(Object(l.b)((function(e){return{loginUser:e.authUser.user}}),{})((function(e){e.match;var a=e.loginUser,t=Object(s.useState)(!0),l=Object(n.a)(t,2),o=l[0],i=l[1],p=Object(s.useState)([]),E=Object(n.a)(p,2),f=E[0],g=E[1],N=Object(s.useState)([]),v=Object(n.a)(N,2),h=v[0],j=v[1];return Object(s.useEffect)((function(){var e=!1;return d.a.post("/api/projects/get-latest",{user_id:a._id,role:a.role}).then((function(e){return e.data})).then((function(a){e||(i(!1),g(a.projects),j(a.messages))})),function(){e=!0}}),[a]),o?c.a.createElement("div",{className:"loading"}):c.a.createElement(c.a.Fragment,null,c.a.createElement(r.a,null,c.a.createElement(b.a,{xxs:"12"},c.a.createElement("div",{className:"mb-2"},c.a.createElement("h1",null,c.a.createElement(u.a,{id:"menu.welcome"})," ","".concat(a.first_name)),0===f.length&&c.a.createElement("div",{className:"text-zero top-right-button-container"},c.a.createElement(m.b,{exact:!0,to:"/app/projects/new-project",className:"top-right-button btn btn-primary btn-lg"},c.a.createElement(u.a,{id:"projects.add-new"})))),c.a.createElement(b.b,{className:"mb-5"}))),c.a.createElement(r.a,null,c.a.createElement(b.a,{lg:"8",xl:"4",className:"mb-4"},0!==f.length&&c.a.createElement(w,{data:f})),c.a.createElement(b.a,{lg:"8",xl:"4",className:"mb-4"},0!==h.length&&c.a.createElement(_,{comments:h}))))})))},421:function(e,a,t){"use strict";t.r(a);var n=t(81),s=t(4),c=t.n(s),r=t(212),l=t(11),o=t.n(l),m=t(83),i=t(82),d=t(108),u=t(137),b=c.a.memo((function(e){var a=e.className,t=void 0===a?"mb-4":a,n=e.icon,s=e.title,r=e.value;return c.a.createElement("div",{className:"icon-row-item ".concat(t)},c.a.createElement(d.a,null,c.a.createElement(u.a,{className:"text-center"},c.a.createElement("i",{className:n}),c.a.createElement("p",{className:"card-text font-weight-semibold mb-0"},c.a.createElement(m.a,{id:s})),c.a.createElement("p",{className:"lead text-center"},r))))})),p=function(e){var a=e.data;return c.a.createElement(r.a,{className:"icon-cards-row"},a.map((function(e,a){return c.a.createElement(i.a,{lg:"2",xl:"2",className:"mb-4",key:"icon_card_".concat(a)},c.a.createElement(b,Object.assign({},e,{className:"mb-4"})))})))};a.default=function(e){e.match;var a=Object(s.useState)([]),t=Object(n.a)(a,2),l=t[0],d=t[1];return Object(s.useEffect)((function(){o.a.post("/api/dashboard/admin-statistics").then((function(e){return e.data})).then((function(e){d([{title:"dashboards.total-projects-in-progress",icon:"iconsminds-clock",value:e.totalProjectsInProgress},{title:"dashboards.total-payments",icon:"iconsminds-clock",value:"AU$"+e.totalPayments},{title:"dashboards.total-projects-awaiting",icon:"iconsminds-clock",value:e.totalProjectsAwaiting},{title:"dashboards.total-projects-completed",icon:"iconsminds-clock",value:e.totalProjectsCompleted}])}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(r.a,null,c.a.createElement(i.a,{xxs:"12"},c.a.createElement("div",{className:"mb-2"},c.a.createElement("h1",null,c.a.createElement(m.a,{id:"menu.dashboard"}))),c.a.createElement(i.b,{className:"mb-5"}))),c.a.createElement(r.a,null,c.a.createElement(i.a,{lg:"12",xl:"12",className:"mb-4"},l&&c.a.createElement(p,{data:l})),c.a.createElement(i.a,{lg:"8",xl:"4",className:"mb-4"})))}}}]);
//# sourceMappingURL=dashboard.f8a863e2.chunk.js.map