(this["webpackJsonpapirender-dashboard"]=this["webpackJsonpapirender-dashboard"]||[]).push([[15],{129:function(e,t,a){"use strict";var n=a(9),c=a(15),r=a(92),l=a(91),s=a(4),i=a.n(s),o=a(37),m=a.n(o),u=a(84),d=a.n(u),p=a(87),b={tag:p.q,innerRef:m.a.oneOfType([m.a.object,m.a.func,m.a.string]),disabled:m.a.bool,active:m.a.bool,className:m.a.string,cssModule:m.a.object,onClick:m.a.func,href:m.a.any},f=function(e){function t(t){var a;return(a=e.call(this,t)||this).onClick=a.onClick.bind(Object(r.a)(a)),a}Object(l.a)(t,e);var a=t.prototype;return a.onClick=function(e){this.props.disabled?e.preventDefault():("#"===this.props.href&&e.preventDefault(),this.props.onClick&&this.props.onClick(e))},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,r=e.active,l=e.tag,s=e.innerRef,o=Object(c.a)(e,["className","cssModule","active","tag","innerRef"]),m=Object(p.m)(d()(t,"nav-link",{disabled:o.disabled,active:r}),a);return i.a.createElement(l,Object(n.a)({},o,{ref:s,onClick:this.onClick,className:m}))},t}(i.a.Component);f.propTypes=b,f.defaultProps={tag:"a"},t.a=f},175:function(e,t,a){"use strict";var n=a(81),c=a(4),r=a.n(c),l=a(129);t.a=function(e){var t=e.children,a=Object(c.useRef)(),s=Object(c.useState)(!1),i=Object(n.a)(s,2),o=i[0],m=i[1],u=function(e){if(o){var t=a.current;if(t.contains(e.target)||t===e.target)return;m(!1)}};return Object(c.useEffect)((function(){return["click","touchstart"].forEach((function(e){return document.addEventListener(e,u,!1)})),function(){["click","touchstart"].forEach((function(e){return document.removeEventListener(e,u,!1)}))}}),[o]),r.a.createElement("div",{ref:a,className:"app-menu ".concat(o?"shown":"")},t,r.a.createElement(l.a,{className:"app-menu-button d-inline-block d-xl-none",onClick:function(){return m(!o)}},r.a.createElement("i",{className:"simple-icon-options"})))}},179:function(e,t,a){"use strict";var n=a(4),c=a.n(n),r=a(392),l=a(393),s=a(129),i=a(82);t.a=function(e){var t=e.totalPage,a=void 0===t?0:t,n=e.currentPage,o=void 0===n?1:n,m=e.numberLimit,u=void 0===m?5:m,d=e.lastIsActive,p=void 0===d||d,b=e.firstIsActive,f=void 0===b||b,g=e.onChangePage,E=1,h=u;u>a?(E=1,h=a):o<=parseInt(u/2,10)?(E=1,h=u):o+parseInt(u/2,10)<=a?(E=o-parseInt(u/2,10),h=o+parseInt(u/2,10)):(E=a-(u-1),h=a);for(var v=[],N=E=0===E?1:E;N<=h;N+=1)v.push(N);var j=o<=1?"disabled":"",O=o>=a?"disabled":"",k=o<=1?"disabled":"",y=o>=a?"disabled":"";return a>1?c.a.createElement(i.a,{xxs:"12",className:"mt-3 mb-3"},c.a.createElement(r.a,{className:"pagination justify-content-center"},f&&c.a.createElement(l.a,{className:"page-item ".concat(j)},c.a.createElement(s.a,{className:"page-link first c-pointer",onClick:function(){return g(1)}},c.a.createElement("i",{className:"simple-icon-control-start"}))),c.a.createElement(l.a,{className:"page-item ".concat(k)},c.a.createElement(s.a,{className:"page-link prev c-pointer",onClick:function(){return g(o-1)}},c.a.createElement("i",{className:"simple-icon-arrow-left"}))),v.map((function(e){return c.a.createElement(l.a,{key:e,className:"page-item ".concat(o===e&&"active")},c.a.createElement(s.a,{className:"page-link c-pointer",onClick:function(){return g(e)}},e))})),c.a.createElement(l.a,{className:"page-item ".concat(y)},c.a.createElement(s.a,{className:"page-link next c-pointer",onClick:function(){return g(o+1)}},c.a.createElement("i",{className:"simple-icon-arrow-right"}))),p&&c.a.createElement(l.a,{className:"page-item ".concat(O)},c.a.createElement(s.a,{className:"page-link last c-pointer",onClick:function(){return g(a)}},c.a.createElement("i",{className:"simple-icon-control-end"}))))):c.a.createElement(i.a,{xxs:"12",className:"mt-2"})}},226:function(e,t,a){"use strict";var n=a(9),c=a(15),r=a(4),l=a.n(r),s=a(37),i=a.n(s),o=a(84),m=a.n(o),u=a(87),d={className:i.a.string,cssModule:i.a.object,size:i.a.string,bordered:i.a.bool,borderless:i.a.bool,striped:i.a.bool,dark:i.a.bool,hover:i.a.bool,responsive:i.a.oneOfType([i.a.bool,i.a.string]),tag:u.q,responsiveTag:u.q,innerRef:i.a.oneOfType([i.a.func,i.a.string,i.a.object])},p=function(e){var t=e.className,a=e.cssModule,r=e.size,s=e.bordered,i=e.borderless,o=e.striped,d=e.dark,p=e.hover,b=e.responsive,f=e.tag,g=e.responsiveTag,E=e.innerRef,h=Object(c.a)(e,["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"]),v=Object(u.m)(m()(t,"table",!!r&&"table-"+r,!!s&&"table-bordered",!!i&&"table-borderless",!!o&&"table-striped",!!d&&"table-dark",!!p&&"table-hover"),a),N=l.a.createElement(f,Object(n.a)({},h,{ref:E,className:v}));if(b){var j=Object(u.m)(!0===b?"table-responsive":"table-responsive-"+b,a);return l.a.createElement(g,{className:j},N)}return N};p.propTypes=d,p.defaultProps={tag:"table",responsiveTag:"div"},t.a=p},379:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(12),l=a(81),s=a(4),i=a.n(s),o=a(11),m=a.n(o),u=a(212),d=a(153),p=a(394),b=a(430),f=a(431),g=a(389),E=a(391),h=a(134),v=a(82),N=a(83),j=(a(143),Object(h.c)((function(e){var t=e.intl,a=e.changeOrderBy,n=e.changePageSize,c=e.selectedPageSize,r=e.totalItemCount,o=e.selectedOrderOption,m=(e.match,e.startIndex),h=e.endIndex,j=e.onSearchKey,O=e.orderOptions,k=e.pageSizes,y=e.heading,x=Object(s.useState)(!1),S=Object(l.a)(x,2),C=S[0],P=S[1],w=t.messages;return i.a.createElement(u.a,null,i.a.createElement(v.a,{xxs:"12"},i.a.createElement("div",{className:"mb-2"},i.a.createElement("h1",null,y)),i.a.createElement("div",{className:"mb-2"},i.a.createElement(d.a,{color:"empty",className:"pt-0 pl-0 d-inline-block d-md-none",onClick:function(){return P(!C)}},i.a.createElement(N.a,{id:"pages.display-options"})," ",i.a.createElement("i",{className:"simple-icon-arrow-down align-middle"})),i.a.createElement(p.a,{isOpen:C,className:"d-md-block",id:"displayOptions"},i.a.createElement("div",{className:"d-block d-md-inline-block pt-1"},i.a.createElement(b.a,{className:"mr-1 float-md-left btn-group mb-1"},i.a.createElement(f.a,{caret:!0,color:"outline-dark",size:"xs"},o.label),i.a.createElement(g.a,null,O.map((function(e,t){return i.a.createElement(E.a,{key:t,onClick:function(){return a(e.column)}},e.label)})))),i.a.createElement("div",{className:"search-sm d-inline-block float-md-left mr-1 mb-1 align-top"},i.a.createElement("input",{type:"text",name:"keyword",id:"search",placeholder:w["menu.search"],onKeyPress:function(e){return j(e)}}))),i.a.createElement("div",{className:"float-md-right pt-1"},i.a.createElement("span",{className:"text-muted text-small mr-1"},"".concat(m,"-").concat(h," of ").concat(r," ")),i.a.createElement(b.a,{className:"d-inline-block"},i.a.createElement(f.a,{caret:!0,color:"outline-dark",size:"xs"},c),i.a.createElement(g.a,{right:!0},k.map((function(e,t){return i.a.createElement(E.a,{key:t,onClick:function(){return n(e)}},e)}))))))),i.a.createElement(v.b,{className:"mb-5"})))}))),O=a(226),k=a(395),y=a(86),x=a(179),S=a(110),C=a(25),P=a(101),w=a.n(P),I=a(175),z=Object(C.b)(null,{})((function(e){var t=e.customer;e.match,e.history;return i.a.createElement(I.a,null,i.a.createElement(w.a,{options:{suppressScrollX:!0,wheelPropagation:!1}},i.a.createElement("div",{className:"p-4"},i.a.createElement("p",{className:"text-muted text-small"},i.a.createElement(N.a,{id:"pages.customer-detail"})),i.a.createElement("ul",{className:"list-unstyled mb-2"},i.a.createElement("li",{className:"nav-item text-center"},i.a.createElement("img",{src:"/".concat(t.avatar),alt:"Avatar",className:"rounded-circle",width:"100",height:"100"})),i.a.createElement("li",{className:"nav-item text-center"},i.a.createElement("span",{className:"text-primary"},"".concat(t.first_name," ").concat(t.last_name))),i.a.createElement("li",{className:"nav-item text-center"},"Company: ",i.a.createElement("span",{className:"text-muted"},t.company_name))))))})),M=a(102);var R=i.a.memo((function(e){var t=e.items,a=(e.displayMode,e.selectedItems,e.currentPage),n=e.totalPage,c=e.onChangePage,r=(e.projectID,e.project);return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{className:"app-row"},i.a.createElement(v.a,{xxs:"12",className:"mb-3"},i.a.createElement(O.a,{responsive:!0,className:"r-table table table-divided"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null),i.a.createElement("th",null,"Product Type"),i.a.createElement("th",null,"Quantity"),i.a.createElement("th",null,"Cost"),i.a.createElement("th",null,"Status"),i.a.createElement("th",null))),i.a.createElement("tbody",null,t.map((function(e,t){var a=M.c[r.category].find((function(t){return t.value===e.value}));return i.a.createElement("tr",{role:"row",key:t},i.a.createElement("td",{role:"cell",className:"p-0 list-item-heading w-10"},i.a.createElement("div",{className:"d-flex align-items-center justify-center"},i.a.createElement("img",{alt:e.desc,src:a.img,className:"responsive border-0 card-img-left",style:{width:"100px",height:"85px"}}))),i.a.createElement("td",{role:"cell",className:"truncate align-middle list-item-heading w-40"},e.name,i.a.createElement("span",{className:"text-small text-primary"}," ( +",function(e){var t=JSON.parse(e);return(t=t.filter((function(e){return 1!=e.depth}))).reduce((function(e,t){return e+(t.quantity||0)}),0)}(e.orders)," options )")),i.a.createElement("td",{role:"cell",className:"align-middle list-item-heading w-10 text-muted text-small"},e.quantity),i.a.createElement("td",{role:"cell",className:"align-middle list-item-heading w-10 text-muted text-small"},"$",e.total_price),i.a.createElement("td",{role:"cell",className:"align-middle list-item-heading w-20 text-small"},i.a.createElement(k.a,{color:S.a[e.status],pill:!0},e.status)),i.a.createElement("td",{role:"cell",className:"truncate align-middle list-item-heading w-10"},e.is_paid&&("IN PROGRESS"===e.status||"REVIEW"===e.status)&&i.a.createElement(y.b,{exact:!0,to:"/admin/projects/briefing/".concat(e._id),className:"top-right-button btn btn-primary btn-sm"},i.a.createElement(N.a,{id:"projects.view-briefing"}))))}))))),i.a.createElement(x.a,{currentPage:a,totalPage:n,onChangePage:function(e){return c(e)}})),i.a.createElement(z,{customer:r.user_id}))})),T=[{column:"desc",label:"Service Name"},{column:"price",label:"Price"},{column:"quantity",label:"Quantity"}],_=[10,20,50,100];t.default=function(e){var t=e.match,a=Object(s.useState)(!1),n=Object(l.a)(a,2),o=n[0],u=n[1],d=Object(s.useState)("thumblist"),p=Object(l.a)(d,2),b=p[0],f=p[1],g=Object(s.useState)(1),E=Object(l.a)(g,2),h=E[0],v=E[1],N=Object(s.useState)(10),O=Object(l.a)(N,2),k=O[0],y=O[1],x=Object(s.useState)({column:"desc",label:"Service Name"}),S=Object(l.a)(x,2),C=S[0],P=S[1],w=Object(s.useState)(!1),I=Object(l.a)(w,2),z=I[0],M=I[1],q=Object(s.useState)(0),D=Object(l.a)(q,2),L=D[0],A=D[1],B=Object(s.useState)(1),J=Object(l.a)(B,2),K=J[0],F=J[1],Q=Object(s.useState)(""),G=Object(l.a)(Q,2),V=G[0],W=G[1],X=Object(s.useState)([]),$=Object(l.a)(X,2),H=$[0],U=$[1],Y=Object(s.useState)([]),Z=Object(l.a)(Y,2),ee=Z[0],te=Z[1],ae=Object(s.useState)(""),ne=Object(l.a)(ae,2),ce=ne[0],re=ne[1];Object(s.useEffect)((function(){v(1)}),[k,C]),Object(s.useEffect)((function(){function e(){return(e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/api/projects/detail?_id=".concat(t.params.id,"&pageSize=").concat(k,"&currentPage=").concat(h,"&orderBy=").concat(C.column,"&search=").concat(V)).then((function(e){return e.data})).then((function(e){console.log(e),re(e.project),F(e.totalPage),te(e.services),U([]),A(e.totalItem),u(!0)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u(!1),function(){e.apply(this,arguments)}()}),[k,h,C,V,t.params.id]);var le=(h-1)*k,se=h*k;return o?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"disable-text-selection"},i.a.createElement(j,{heading:ce.project_name,displayMode:b,changeDisplayMode:f,changeOrderBy:function(e){P(T.find((function(t){return t.column===e})))},changePageSize:y,selectedPageSize:k,totalItemCount:L,selectedOrderOption:C,match:t,startIndex:le,endIndex:se,selectedItemsLength:H?H.length:0,itemsLength:ee?ee.length:0,onSearchKey:function(e){"Enter"===e.key&&W(e.target.value.toLowerCase())},orderOptions:T,pageSizes:_,projectID:t.params.id,project:ce,toggleModal:function(){return M(!z)},totalPrice:ee.reduce((function(e,t){return e+t.total_price}),0)}),i.a.createElement(R,{items:ee,displayMode:b,selectedItems:H,currentPage:h,totalPage:K,onChangePage:v,projectID:t.params.id,project:ce}))):i.a.createElement("div",{className:"loading"})}}}]);
//# sourceMappingURL=project-details.cc14af59.chunk.js.map