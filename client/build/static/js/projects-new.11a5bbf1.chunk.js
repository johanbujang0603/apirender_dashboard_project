(this["webpackJsonpapirender-dashboard"]=this["webpackJsonpapirender-dashboard"]||[]).push([[20],{179:function(e,t,a){"use strict";var l=a(3),n=a.n(l),r=a(124);t.a=e=>{let{children:t}=e;const a=Object(l.useRef)(),[c,s]=Object(l.useState)(!1),m=e=>{if(c){const t=a.current;if(t.contains(e.target)||t===e.target)return;s(!1)}};return Object(l.useEffect)(()=>(["click","touchstart"].forEach(e=>document.addEventListener(e,m,!1)),()=>{["click","touchstart"].forEach(e=>document.removeEventListener(e,m,!1))}),[c]),n.a.createElement("div",{ref:a,className:"app-menu ".concat(c?"shown":"")},t,n.a.createElement(r.a,{className:"app-menu-button d-inline-block d-xl-none",onClick:()=>s(!c)},n.a.createElement("i",{className:"simple-icon-options"})))}},229:function(e,t,a){"use strict";var l=a(3),n=a.n(l),r=a(411),c=a(412),s=a(124),m=a(78);t.a=e=>{let{totalPage:t=0,currentPage:a=1,numberLimit:l=5,lastIsActive:i=!0,firstIsActive:o=!0,onChangePage:p}=e,d=1,u=l;l>t?(d=1,u=t):a<=parseInt(l/2,10)?(d=1,u=l):a+parseInt(l/2,10)<=t?(d=a-parseInt(l/2,10),u=a+parseInt(l/2,10)):(d=t-(l-1),u=t),d=0===d?1:d;const E=[];for(let n=d;n<=u;n+=1)E.push(n);const g=a<=1?"disabled":"",b=a>=t?"disabled":"",h=a<=1?"disabled":"",v=a>=t?"disabled":"";return t>1?n.a.createElement(m.a,{xxs:"12",className:"mt-3 mb-3"},n.a.createElement(r.a,{className:"pagination justify-content-center"},o&&n.a.createElement(c.a,{className:"page-item ".concat(g)},n.a.createElement(s.a,{className:"page-link first c-pointer",onClick:()=>p(1)},n.a.createElement("i",{className:"simple-icon-control-start"}))),n.a.createElement(c.a,{className:"page-item ".concat(h)},n.a.createElement(s.a,{className:"page-link prev c-pointer",onClick:()=>p(a-1)},n.a.createElement("i",{className:"simple-icon-arrow-left"}))),E.map(e=>n.a.createElement(c.a,{key:e,className:"page-item ".concat(a===e&&"active")},n.a.createElement(s.a,{className:"page-link c-pointer",onClick:()=>p(e)},e))),n.a.createElement(c.a,{className:"page-item ".concat(v)},n.a.createElement(s.a,{className:"page-link next c-pointer",onClick:()=>p(a+1)},n.a.createElement("i",{className:"simple-icon-arrow-right"}))),i&&n.a.createElement(c.a,{className:"page-item ".concat(b)},n.a.createElement(s.a,{className:"page-link last c-pointer",onClick:()=>p(t)},n.a.createElement("i",{className:"simple-icon-control-end"}))))):n.a.createElement(m.a,{xxs:"12",className:"mt-2"})}},392:function(e,t,a){"use strict";a.r(t);var l=a(3),n=a.n(l),r=a(8),c=a.n(r),s=a(128),m=a(216),i=a(78),o=a(20),p=a(96),d=a(427),u=a(414),E=a(120),g=a(430),b=a(401),h=a(349),v=a(151),y=a(160),N=a(89),f=a(82),x=a(95),j=a.n(x),O=a(79),S=a(97),k=a(413),w=a(177),_=a(189),C=(a(159),a(403)),P=a(404),I=a(451),F=a(429),q=a(448);var A=n.a.memo(e=>{let{parent:t,option:a,addServices:l,currentItems:r,depth:c}=e;return n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,{className:"mb-2"},n.a.createElement(i.a,{sm:"12",lg:"12",md:"12"},n.a.createElement(p.a,{className:"pt-3 pb-3 pl-3 pr-3"},n.a.createElement("div",{className:"d-flex flex-grow-1 min-width-zero",style:{alignItems:"center",justifyContent:"space-between"}},n.a.createElement(C.a,{check:!0},n.a.createElement(P.a,{check:!0},n.a.createElement(I.a,{type:"radio",name:"RADIO_".concat(a.value),id:"RADIO_".concat(a.value),label:a.name,value:a.value,onChange:()=>{let e={name:a.name,price:a.price,value:t.value,quantity:1,depth:c,type:"RADIO",radioValue:a.value,totalPrice:parseFloat(a.price)};3===c&&(e.parent=t.name),l(e)},checked:!!r.find(e=>e.radioValue===a.value)}))),n.a.createElement("div",{className:"option-quantity-input"},0!==a.price&&n.a.createElement(F.a,null,n.a.createElement(q.a,{addonType:"prepend"},"$"),n.a.createElement(y.a,{value:0===a.price?"Free":a.price,readOnly:!0})))),a.desc&&n.a.createElement("p",{className:"text-left text-muted text-small mb-0 ml-4"},a.desc)))))});var z=n.a.memo(e=>{let{parent:t,option:a,addServices:r,currentItems:c,depth:s}=e;const[o,d]=Object(l.useState)(!1);Object(l.useEffect)(()=>{d(!1);c.find((e,t)=>{if(e.value===a.value)return d(!0),!0})});return n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,{className:"mb-2"},n.a.createElement(i.a,{sm:"12",lg:"12",md:"12"},n.a.createElement(p.a,{className:"pt-3 pb-3 pl-3 pr-3"},n.a.createElement("div",{className:"d-flex flex-grow-1 min-width-zero",style:{alignItems:"center",justifyContent:"space-between"}},n.a.createElement(C.a,{check:!0},n.a.createElement(P.a,{check:!0},n.a.createElement(I.a,{className:"text-left",type:"checkbox",name:"CHECKBOX_".concat(a.value),id:"CHECKBOX_".concat(a.value),label:a.name,value:a.value,onChange:e=>{let l={name:a.name,price:a.price,value:a.value,quantity:1,depth:s,type:"CHECKBOX",totalPrice:parseFloat(a.price)};3===s&&(l.parent=t.name),r(l),d(!o)},checked:o}))),n.a.createElement("div",{className:"option-quantity-input"},a.price>0&&n.a.createElement(F.a,null,n.a.createElement(q.a,{addonType:"prepend"},"$"),n.a.createElement(y.a,{value:a.price,readOnly:!0}))))))))});var T=n.a.memo(e=>{let{rootItem:t,subOption:a,addSubOption:r,currentItems:c,rootQuantity:s,parentQuantity:m,parentOption:i}=e;const[o,p]=Object(l.useState)(0),[d,u]=Object(l.useState)(!1),[E,g]=Object(l.useState)(0);Object(l.useEffect)(()=>{0==c.length&&p(0);c.find((e,t)=>{if(e.value===a.value)return p(e.quantity),!0})},[c]);const b=()=>{let e=!1;return c.find((t,a)=>{if(t.parent===i.name&&3===t.depth&&t.quantity>=1)return e=!0,!0}),e};return n.a.createElement("li",{className:"mt-1 mb-1"},n.a.createElement("div",{className:"d-flex",style:{alignItems:"center",justifyContent:"space-between"}},n.a.createElement("span",{className:"mb-0 text-default color-theme-1"},a.name,n.a.createElement("span",{className:"ml-2 text-muted"},a.price>0&&n.a.createElement(n.a.Fragment,null,a.price," / ",a.unit?a.unit:"photo"))),n.a.createElement("div",{className:"option-quantity-input"},n.a.createElement(v.a,{color:"primary",className:"default",onClick:()=>(()=>{if("AT_LEAST_ONE"===a.required&&!b())return;if(t.price&&0==s)return void p(0);let e=o;e=e>0?e-1:0;let l={name:a.name,price:a.price,value:a.value,quantity:e,depth:3,parent:i.name,totalPrice:parseFloat(a.price)*e};r(l),p(e)})()},"\u2014"),n.a.createElement(y.a,{type:"text",value:o,readOnly:!0}),n.a.createElement(v.a,{color:"primary",className:"default",onClick:()=>(()=>{if("AT_LEAST_ONE"===a.required&&!b())return;if(t.price&&0==s)return void p(0);if(i.price&&o+1>m)return;let e=o+1,l={name:a.name,price:a.price,value:a.value,quantity:e,depth:3,parent:i.name,totalPrice:parseFloat(a.price)*e};r(l),p(e)})()},"\uff0b"))),a.example_images&&n.a.createElement(f.b,{to:"#",className:"ml-1 text-small text-danger",onClick:()=>{u(!0),g(0)},location:{}},"\xa0(View Example)\xa0"),a.example_link&&n.a.createElement("a",{target:"_blank",href:a.example_link,className:"ml-1 text-small text-danger"},"\xa0(View Example)\xa0"),d&&n.a.createElement(w.a,{mainSrc:a.example_images[E],nextSrc:a.example_images[(E+1)%a.example_images.length],prevSrc:a.example_images[(E+a.example_images.length-1)%a.example_images.length],onCloseRequest:()=>u(!1),onMovePrevRequest:()=>g((E+a.example_images.length-1)%a.example_images.length),onMoveNextRequest:()=>g((E+1)%a.example_images.length)}))}),D=a(344);var R=n.a.memo(e=>{let{subOption:t,parentOption:a,addedItems:r,addSubOption:c}=e;const[s,m]=Object(l.useState)(0);Object(l.useEffect)(()=>{0===r.length&&m(0),r.find((e,a)=>{if(e.value===t.value)return m(e.quantity),!0})},[r]);return n.a.createElement(i.a,{sm:6,lg:6,xl:6,className:"mb-3"},n.a.createElement(p.a,null,n.a.createElement("p",{className:"text-small text-center p-2 mb-0 font-weight-light"},t.name),n.a.createElement("div",{className:"position-relative text-center"},n.a.createElement(f.b,{to:"#",className:"w-sm-100"},n.a.createElement(d.a,{top:!0,alt:t.name,src:t.img,style:{width:"100%"}}))),n.a.createElement(E.a,{className:"text-center",style:{padding:"0.5rem"}},n.a.createElement("label",{className:""},"Select number of floors"),n.a.createElement("div",{className:"d-flex items-center justify-content-center"},n.a.createElement("div",{className:"option-quantity-input mb-1"},n.a.createElement(v.a,{color:"primary",className:"default",onClick:()=>(()=>{let e=s;e=e>0?e-1:0;let l={name:t.name,price:t.price,value:t.value,quantity:e,depth:3,parent:a.name,totalPrice:parseFloat(t.price)*e};c(l),m(e)})()},"\u2014"),n.a.createElement(y.a,{type:"text",value:s,readOnly:!0}),n.a.createElement(v.a,{color:"primary",className:"default",onClick:()=>(()=>{let e=s+1,l={name:t.name,price:t.price,value:t.value,quantity:e,depth:3,parent:a.name,totalPrice:parseFloat(t.price)*e};c(l),m(e)})()},"\uff0b"))),n.a.createElement(D.a,{className:"text-small mb-0 font-weight-light"},n.a.createElement("span",{className:"text-primary"},"$",t.price,"\xa0/\xa0",t.unit)))))});var L=n.a.memo(e=>{let{rootItem:t,option:a,addServices:r,addSelectionService:c,currentItems:s,serviceQuantity:o}=e;const[d,u]=Object(l.useState)(!1),[E,g]=Object(l.useState)(!1),[b,h]=Object(l.useState)(0),[N,x]=Object(l.useState)(!1),[j,O]=Object(l.useState)(0);Object(l.useEffect)(()=>{0==s.length&&h(0);s.find((e,t)=>{if(e.value===a.value)return"YES_OR_NO"===e.type?u(!0):h(e.quantity),!0})});return n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,{className:"mb-2"},n.a.createElement(i.a,{sm:"12",lg:"12",md:"12"},n.a.createElement(p.a,{className:"pt-3 pb-3 pl-3 pr-3"},n.a.createElement("div",{className:"d-flex flex-grow-1 min-width-zero",style:{alignItems:"center",justifyContent:"space-between"}},n.a.createElement("a",{href:"#!",onClick:e=>!1!==a.is_collapse?g(!E):e.preventDefault(),className:"".concat(!1===a.is_collapse?"text-black":"color-theme-1")},!1!==a.is_collapse&&n.a.createElement("i",{className:"simple-icon-arrow-down align-middle mr-2"}),a.name,a.price&&!a.first_price&&n.a.createElement("span",{className:"mb-0 ml-2 text-muted"},"$",a.price," / ",a.unit?a.unit:"photo")),a.price&&n.a.createElement(n.a.Fragment,null,"YES_OR_NO"===a.type?n.a.createElement("div",{className:"option-quantity-input"},n.a.createElement(_.a,{className:"custom-switch custom-switch-primary",checked:d,onChange:e=>{let t={name:a.name,value:a.value,price:a.price,quantity:1,type:"YES_OR_NO",checked:e,depth:2,totalPrice:parseFloat(a.price)};r(t),u(e)}})):n.a.createElement("div",{className:"option-quantity-input"},n.a.createElement(v.a,{color:"primary",className:"default",onClick:()=>(()=>{if(t.price&&0===o)return;let e=b;e=e>0?e-1:0;const l=a.first_price?a.first_price+parseFloat(a.price)*(e-1):parseFloat(a.price)*e;let n={name:a.name,price:a.price,value:a.value,quantity:e,depth:2,totalPrice:l};r(n),h(e)})()},"\u2014"),n.a.createElement(y.a,{type:"text",value:b,readOnly:!0}),n.a.createElement(v.a,{color:"primary",className:"default",onClick:()=>(()=>{if(t.price&&0===o)return;let e=b+1;const l=a.first_price?a.first_price+parseFloat(a.price)*(e-1):parseFloat(a.price)*e;let n={name:a.name,price:a.price,value:a.value,quantity:e,depth:2,totalPrice:l};r(n),h(e)})()},"\uff0b")))),!1===a.is_collapse?n.a.createElement("div",{className:"text-left mt-2"},n.a.createElement("p",{className:"text-muted text-small"},a.desc,a.example_images&&n.a.createElement(f.b,{className:"text-danger",to:"#!",onClick:()=>{x(!0),O(0)},locaiont:{}},"\xa0(View Example)\xa0"),a.example_link&&n.a.createElement("a",{target:"_blank",href:a.example_link,className:"ml-1 text-small text-danger"},"\xa0(View Example)\xa0")),n.a.createElement("ul",{className:"list-unstyled"},a.items&&a.items.map((e,l)=>"SELECT_ONE"===a.itemsType?n.a.createElement(A,{key:l,parent:a,option:e,addServices:r,currentItems:s,depth:3}):"SELECT_MULTIPLE"===a.itemsType?n.a.createElement(z,{key:l,parent:a,option:e,addServices:r,currentItems:s,depth:3}):n.a.createElement(T,{key:l,rootItem:t,subOption:e,addSubOption:r,currentItems:s,parentOption:a,parentQuantity:b,rootQuantity:o}))),a.thumb_items&&n.a.createElement(m.a,null,a.thumb_items.map((e,t)=>n.a.createElement(R,{key:t,subOption:e,addSubOption:r,addedItems:s,parentOption:a})))):n.a.createElement(k.a,{isOpen:E},n.a.createElement("div",{className:"text-left mt-2"},n.a.createElement("p",{className:"text-muted text-small"},a.desc,a.example_images&&n.a.createElement(f.b,{className:"text-danger",to:"#!",onClick:()=>{x(!0),O(0)},locaiont:{}},"\xa0(View Example)\xa0"),a.example_link&&n.a.createElement("a",{target:"_blank",href:a.example_link,className:"ml-1 text-small text-danger"},"\xa0(View Example)\xa0")),n.a.createElement("ul",{className:"list-unstyled"},a.items&&a.items.map((e,l)=>"SELECT_ONE"===a.itemsType?n.a.createElement(A,{key:l,parent:a,option:e,addServices:r,currentItems:s,depth:3}):"SELECT_MULTIPLE"===a.itemsType?n.a.createElement(z,{key:l,parent:a,option:e,addServices:r,currentItems:s,depth:3}):n.a.createElement(T,{key:l,rootItem:t,subOption:e,addSubOption:r,currentItems:s,parentOption:a,parentQuantity:b,rootQuantity:o}))),a.thumb_items&&n.a.createElement(m.a,null,a.thumb_items.map((e,t)=>n.a.createElement(R,{key:t,subOption:e,addSubOption:r,addedItems:s,parentOption:a}))))),n.a.createElement(k.a,{isOpen:E})))),N&&n.a.createElement(w.a,{mainSrc:a.example_images[j],nextSrc:a.example_images[(j+1)%a.example_images.length],prevSrc:a.example_images[(j+a.example_images.length-1)%a.example_images.length],onCloseRequest:()=>x(!1),onMovePrevRequest:()=>O((j+a.example_images.length-1)%a.example_images.length),onMoveNextRequest:()=>O((j+1)%a.example_images.length)}))});var M=n.a.memo(e=>{let{item:t,index:a,addToCartAction:r,currentItems:s}=e;const o=Object(N.h)(),x=Object(N.g)(),[k,w]=Object(l.useState)(!1),[_,C]=Object(l.useState)(0),[P,I]=Object(l.useState)([]),[F,q]=Object(l.useState)(0);Object(l.useEffect)(()=>{const e=[];e.push(...s.orders);let a=e.find(e=>e.value===t.value);void 0!==a&&C(a.quantity),q(e.reduce((e,t)=>e+(t.totalPrice||0),0)),I(e)},[]);const T=e=>{let t=[];P.map(e=>t.push(e)),void 0===t.find((a,l)=>{if(a.value===e.value)return"YES_OR_NO"===e.type?t.splice(l,1):"RADIO"===e.type?t[l]=e:"CHECKBOX"===e.type?t.splice(l,1):0!==e.quantity?t[l]=e:t.splice(l,1),!0})&&0!==e.quantity&&t.push(e);const a=t.reduce((e,t)=>e+(t.totalPrice||0),0);q(a),I(t)},D=e=>{let t=P;void 0===t.find((a,l)=>{if(a.value===e.value)return t.splice(l,1),!0})&&t.push(e);const a=t.reduce((e,t)=>e+(t.totalPrice||0),0);q(a),I(t)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{sm:"6",lg:"4",xl:"4",className:"mb-3"},n.a.createElement(p.a,{onClick:()=>w(!k)},n.a.createElement("div",{className:"position-relative"},n.a.createElement(f.b,{to:"#"},n.a.createElement(d.a,{top:!0,alt:t.name,src:t.img})),0!==s.orders.length&&n.a.createElement(u.a,{color:"primary",pill:!0,className:"position-absolute badge-top-left",style:{fontSize:"90%"}},t.price?n.a.createElement(n.a.Fragment,null,void 0!==s.orders.find(e=>e.value===t.value)?s.orders.find(e=>e.value===t.value).quantity:0," ","images -"," ",s.orders.reduce((e,t)=>e+(t.quantity||0),0)-(void 0!==s.orders.find(e=>e.value===t.value)?s.orders.find(e=>e.value===t.value).quantity:0)," ",n.a.createElement(O.a,{id:"projects.options"}),"- $",s.orders.reduce((e,t)=>e+(t.totalPrice||0),0)):n.a.createElement(n.a.Fragment,null,s.orders.reduce((e,t)=>e+(t.quantity||0),0)," ","- images - $",s.orders.reduce((e,t)=>e+(t.totalPrice||0),0)))),n.a.createElement(E.a,null,n.a.createElement(m.a,null,n.a.createElement(i.a,{xxs:"12"},n.a.createElement(g.a,{className:"text-center text-one"},t.name)))))),n.a.createElement(b.a,{isOpen:k,size:"xl",toggle:()=>w(!k)},n.a.createElement(h.a,{className:"no-padding"},n.a.createElement("span",{onClick:()=>w(!1),className:"text-large position-absolute",style:{right:"10px",top:0,cursor:"pointer",zIndex:1002}},"\xd7"),n.a.createElement(m.a,{style:{margin:0}},n.a.createElement(i.a,{sm:"12",lg:"6",md:"12",className:"no-padding"},n.a.createElement("img",{src:t.img,className:"img-fluid",style:{objectFit:"cover",height:"100%"}})),n.a.createElement(i.a,{sm:"12",lg:"6",md:"12",className:"no-padding"},n.a.createElement("div",{style:{padding:"2rem"}},n.a.createElement("div",{className:"text-center"},n.a.createElement("h5",{className:"text-primary font-weight-semibold color-theme-2 mb-4"},t.name)),n.a.createElement("div",{className:"text-center"},n.a.createElement("p",null,t.desc&&t.desc),t.price&&n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{className:"text-primary text-one"},"$",t.price," / ",t.unit?t.unit:"photo"),n.a.createElement("div",{className:"quantity-input mb-5"},n.a.createElement(v.a,{color:"secondary",className:"default",onClick:()=>(()=>{let e=_;if(e=e>0?e-1:0,0===e)return I([]),q(0),void C(0);let a={name:t.name,price:t.price,value:t.value,quantity:e,depth:1,totalPrice:parseFloat(t.price)*e};C(e),T(a)})()},"\u2014"),n.a.createElement(y.a,{type:"text",value:_,readOnly:!0}),n.a.createElement(v.a,{color:"secondary",className:"default",onClick:()=>(()=>{let e=_+1;if(0===e)return I([]),void q(0);let a={name:t.name,price:t.price,value:t.value,quantity:e,depth:1,totalPrice:parseFloat(t.price)*e};C(e),T(a)})()},"\uff0b"))),n.a.createElement(j.a,{options:{suppressScrollX:!0,wheelPropagation:!1}},n.a.createElement("div",{className:"pl-3 pt-3 pb-4 pr-3",style:{height:"300px"}},S.a[t.value]&&S.a[t.value].map((e,a)=>"ALONE_SELECT"===e.extraType?n.a.createElement(z,{key:a,rootItem:t,option:e,addServices:T,currentItems:P,depth:2}):"SELECT_ONE"===t.itemsType?n.a.createElement(A,{key:a,parent:t,option:e,addServices:T,currentItems:P,depth:2}):"SELECT_MULTIPLE"===t.itemsType?n.a.createElement(z,{key:a,rootItem:t,option:e,addServices:T,currentItems:P,depth:2}):n.a.createElement(L,{key:a,rootItem:t,option:e,addServices:T,addSelectionService:D,serviceQuantity:_,currentItems:P}))))),n.a.createElement("hr",{className:"my-4"}),n.a.createElement("div",{className:"footer"},n.a.createElement("span",{className:"text-price text-large text-semi-muted"},!0!==t.is_free&&"$".concat(parseFloat(F).toFixed(2))),n.a.createElement(v.a,{color:"primary",className:"float-right",onClick:e=>(e=>{if(!0===t.is_free){let e=0;P.map(t=>{e+=t.quantity});const a={is_paid:!0,name:t.name,value:t.value,orders:JSON.stringify(P),total_price:0,quantity:e,project:o.id,status:"REQUEST QUOTE"};c.a.post("/api/services/add-free-service",a).then(e=>{!0===e.data.success&&x.push("/app/projects/details/".concat(o.id))})}else r(P,a);w(!1)})()},!0===t.is_free?"Proceed to Quote Request":n.a.createElement(O.a,{id:"projects.add-to-cart"}))," ")))))))});var U=Object(o.b)(null,{})(Object(s.c)(n.a.memo(e=>{let{intl:t,allOrders:a,addItemsToCart:l,project:r}=e;return n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,null,S.c[r.category].map((e,t)=>n.a.createElement(M,{item:e,key:t,index:t,addToCartAction:l,currentItems:a[t]}))))}))),B=a(179);var Q=Object(o.b)(null,{})(e=>{let{addedItems:t,match:a,history:l}=e,r=0;return n.a.createElement(B.a,null,n.a.createElement(j.a,{options:{suppressScrollX:!0,wheelPropagation:!1}},n.a.createElement("div",{className:"p-4"},n.a.createElement("p",{className:"text-default font-weight-semibold text-one"},n.a.createElement(O.a,{id:"projects.order-summary"})),n.a.createElement("ul",{className:"list-unstyled mb-2"},0!==t.length&&t.map((e,t)=>{let a=0;if(0!==e.orders.length)return n.a.createElement("li",{className:"added-cart-item nav-item",key:t},0!==e.orders.length&&e.orders.map((e,t)=>{a+=parseFloat(e.totalPrice),r+=parseFloat(e.totalPrice)}),n.a.createElement("span",{className:"color-theme-1 font-weight-medium"},0!==e.orders.length&&e.name),n.a.createElement("span",{className:"float-right"},"$",a))})),0!==r&&n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{className:"text-center mt-5"},n.a.createElement(f.b,{to:"/app/projects/payment/".concat(a.params.id),className:"default mb-2 btn btn-danger"},n.a.createElement(O.a,{id:"projects.pay"})," - AU$",r.toFixed(2))," "),n.a.createElement("p",null,n.a.createElement("img",{className:"w-100",src:"/assets/img/stripe_secure.png"})),n.a.createElement("p",null,n.a.createElement("img",{className:"w-100",src:"/assets/img/powered_by_paypal.png"}))))))}),V=a(101);t.default=Object(s.c)(e=>{let{intl:t,match:a,history:r}=e;const[s,o]=Object(l.useState)(!1),[p,d]=Object(l.useState)([]),[u,E]=Object(l.useState)([]),[g,b]=Object(l.useState)([]);Object(l.useEffect)(()=>{!async function(){c.a.post("/api/projects/get-info?_id=".concat(a.params.id)).then(e=>e.data).then(e=>{b(e.project);let t=[];S.c[e.project.category].map(a=>{let l={name:a.name,value:a.value,orders:[]},n=e.services.find(e=>e.value===a.value);void 0!=n&&(l.orders=JSON.parse(n.orders)),t.push(l)});const a=Object.keys(t).map((function(e){return t[e]}));E(a),d(t),o(!0)})}()},[]);return s?n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,{className:"app-row"},n.a.createElement(i.a,{xxs:"12"},n.a.createElement("h1",null,n.a.createElement(O.a,{id:"menu.add-service"})),n.a.createElement(i.b,{className:"mb-5"}))),n.a.createElement(m.a,{className:"app-row"},n.a.createElement(i.a,{sm:"12",md:"12",className:"mb-4"},0!=p.length&&n.a.createElement(U,{match:a,allOrders:p,project:g,addItemsToCart:(e,t)=>{let l=[];l.push(...e);let n=p;n[t].orders=l,n[t].orders.sort((e,t)=>e.depth>t.depth?1:-1);let r=Object.keys(n).map((function(e){return n[e]})),s=[];s.push(...r),E(s),(e=>{let t=e.filter((function(e){return 0!==e.orders.length})),l={id:a.params.id,services:JSON.stringify(t)};c.a.post("/api/services/add",l).then(e=>e.data).then(e=>{V.a.success("The service has been added to your order.","Thank you!",3e3,null,null,"")}).catch(e=>{console.log(e.response),V.a.warning("Somthing went wrong. Please try again.","Error!",3e3,null,null,"")})})(n);let m=[];m.push(...n),d(m)}}))),n.a.createElement(Q,{addedItems:u,match:a,history:r})):n.a.createElement("div",{className:"loading"})})},394:function(e,t,a){"use strict";a.r(t);var l=a(3),n=a.n(l),r=a(128),c=a(216),s=a(78),m=a(79),i=a(8),o=a.n(i),p=a(20),d=a(96),u=a(120),E=a(403),g=a(404),b=a(160),h=a(428),v=a(82),y=a(176),N=a(151);var f=e=>{let{className:t,onClickPrev:a,prevLabel:l,onClickNext:r,nextLabel:c}=e;return n.a.createElement(y.WithWizard,{render:e=>{let{next:s,previous:m,step:i,steps:o}=e;return n.a.createElement("div",{className:"wizard-buttons ".concat(t)},n.a.createElement(N.a,{color:"primary",className:"mr-1 ".concat(o.indexOf(i)<=0?"disabled":""),onClick:()=>{a(m,o,i)}},l),n.a.createElement(N.a,{color:"primary",className:o.indexOf(i)>=o.length-1?"disabled":"",onClick:()=>{r(s,o,i)}},c))}})};var x=e=>{let{className:t,disableNav:a,topNavClick:l}=e;const r=(e,t,a,l)=>e.indexOf(t)===a?"step-doing":e.indexOf(t)>a||l.isDone?(l.isDone=!0,"step-done"):"step";return n.a.createElement(y.WithWizard,{render:e=>{let{next:c,previous:s,step:m,steps:i,go:o,push:p}=e;return n.a.createElement("ul",{className:"nav nav-tabs ".concat(t).concat(a?" disabled":"")},i.map((e,t)=>e.hideTopNav?n.a.createElement("span",{key:"topNavStep_".concat(t)}):n.a.createElement("li",{key:"topNavStep_".concat(t),className:"nav-item ".concat(r(i,m,t,e))},n.a.createElement(v.b,{to:"#",location:{},className:"nav-link",onClick:()=>((e,t)=>{a||l(e,t)})(e,p)},n.a.createElement("span",null,e.name),n.a.createElement("small",null,e.desc)))))}})},j=a(84),O=a(427),S=a(451),k=a(344),w=a(80),_=a.n(w);var C=n.a.memo(e=>{let{category:t,isSelected:a,onCheckItem:l,step:r}=e;return n.a.createElement(s.a,{sm:6,lg:4,xl:4,className:"mb-3"},n.a.createElement(d.a,{onClick:e=>l(e,t.value,r),className:_()({active:a===t.value})},n.a.createElement("div",{className:"position-relative text-center"},n.a.createElement(v.b,{to:"#",className:"w-40 w-sm-100"},n.a.createElement(O.a,{top:!0,alt:t.desc,src:t.img,style:{width:"40%"}}))),n.a.createElement(u.a,{className:"d-flex align-items-center justify-content-center"},n.a.createElement(S.a,{className:"item-check mb-0 mr-1",type:"checkbox",onChange:()=>{},checked:!!a.includes(t.value),id:"check_".concat(t.id),label:""}),n.a.createElement(k.a,{className:"text-default text-one mb-0 font-weight-light"},t.desc))))}),P=a(97),I=a(1);var F=Object(p.b)(e=>{let{authUser:t}=e;return{loginUser:t.user}},{setProjectMenuItems:I.M})(Object(r.c)(n.a.memo(e=>{let{intl:t,setProjectMenuItems:a,loginUser:r}=e;const[s,i]=Object(l.useState)(!1),[p,N]=Object(l.useState)(!1),[O,S]=Object(l.useState)(null),[k,w]=Object(l.useState)([{valid:!1,name:"projectCategory",value:"",errorMsg:"Please select project category"},{valid:!1,name:"projectDetail",valProjectName:"",valProjectDescription:"",errorMsg:"Please fill all fields out"}]),_=e=>{const t=e.target.value,a=e.target.name,l=[...k];"projectDescription"==a?l[1].valProjectDescription=t:(l[1].valid=null!=t,l[1].valProjectName=t),w(l)},I=(e,t,a)=>{const l=[...k];l[a].value=t,l[a].valid=!0,w(l)},{messages:F}=t;return n.a.createElement(d.a,null,n.a.createElement(u.a,{className:"wizard wizard-default"},n.a.createElement(y.Wizard,null,n.a.createElement(x,{className:"justify-content-center",disableNav:!0}),n.a.createElement(y.Steps,null,n.a.createElement(y.Step,{id:"step1",name:F["wizard.step-name-1"],desc:F["projects.project-step-1"]},n.a.createElement("div",{className:"wizard-basic-step mt-5"},n.a.createElement(c.a,null,P.b.map(e=>n.a.createElement(C,{category:e,isSelected:k[0].value,onCheckItem:I,step:0,key:e.id}))))),n.a.createElement(y.Step,{id:"step2",name:F["wizard.step-name-2"],desc:F["projects.project-step-2"]},n.a.createElement("div",{className:"wizard-basic-step mt-5"},n.a.createElement(E.a,null,n.a.createElement(g.a,{for:"exampleEmail"},n.a.createElement(m.a,{id:"projects.project-name"})),n.a.createElement(b.a,{type:"text",name:"projectName",id:"projectName",value:k[1].valProjectName,placeholder:F["projects.project-name-placeholder"],onChange:e=>_(e)})),n.a.createElement(E.a,null,n.a.createElement(g.a,{for:"exampleEmail"},n.a.createElement(m.a,{id:"projects.project-name"})),n.a.createElement(b.a,{type:"textarea",name:"projectDescription",id:"projectDescription",value:k[1].valProjectDescription,placeholder:F["projects.project-desc-placeholder"],onChange:e=>_(e)})))),n.a.createElement(y.Step,{id:"step3",hideTopNav:!0},n.a.createElement("div",{className:"wizard-basic-step text-center pt-3"},p||null==O?n.a.createElement("div",null,n.a.createElement(h.a,{color:"primary",className:"mb-1"}),n.a.createElement("p",null,n.a.createElement(m.a,{id:"wizard.async"}))):n.a.createElement("div",null,n.a.createElement("h2",{className:"mb-2"},n.a.createElement(m.a,{id:"wizard.content-thanks"})),n.a.createElement("p",null,n.a.createElement(m.a,{id:"wizard.projects.created"})),n.a.createElement(v.b,{to:"/app/projects/add-service/".concat(O),className:"btn btn-primary list-item-heading mb-0 truncate w-xs-100  mb-2"},n.a.createElement("span",{className:"align-middle d-inline-block"},n.a.createElement(m.a,{id:"wizard.project.go-service"}))))))),n.a.createElement(f,{onClickNext:(e,t,l)=>{if(t.length-1<=t.indexOf(l))return;const n=t.indexOf(l),c=k[n];c.valid?(e(),l.isDone=!0,t.length-2<=t.indexOf(l)&&(i(!0),(()=>{N(!0);const e={user_id:r._id,category:k[0].value,project_name:k[1].valProjectName,project_description:k[1].valProjectDescription,is_paid:!1,status:"DRAFT"};o.a.post("/api/projects/create",e).then(e=>{a({userId:r._id,role:r.role}),S(e.data._id),N(!1)}).catch(e=>{alert(e)})})())):j.b.warning(c.errorMsg,"Validation Error",3e3,null,null,"")},onClickPrev:(e,t,a)=>{t.indexOf(a)<=0||e()},className:"justify-content-center ".concat(s&&"invisible"," mt-4"),prevLabel:F["wizard.prev"],nextLabel:F["wizard.next"]}))))})));t.default=Object(r.c)(e=>{let{intl:t,match:a}=e;return n.a.createElement(n.a.Fragment,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{xxs:"12"},n.a.createElement("h1",null,n.a.createElement(m.a,{id:"menu.new-project"})),n.a.createElement(s.b,{className:"mb-5"}))),n.a.createElement(c.a,null,n.a.createElement(s.a,{sm:"12",md:"12",className:"mb-4"},n.a.createElement(F,null))))})},395:function(e,t,a){"use strict";a.r(t);var l=a(3),n=a.n(l),r=a(128),c=a(8),s=a.n(c),m=a(216),i=a(78),o=a(79),p=a(364),d=a(96),u=a(120),E=a(227),g=a(403),b=a(404),h=a(151),v=a(84);class y extends l.Component{constructor(){super(...arguments),this.state={errorMessage:""},this.handleChange=e=>{let{error:t}=e;t?this.setState({errorMessage:t.message}):this.setState({errorMessage:""})},this.handleSubmit=e=>{e.preventDefault(),!0!==this.props.printingService||(e=>{for(const t in e)if(null===e[t]&&"unitNumber"!==t)return!1;return!0})(this.props.deliveryAddr)?!0===this.props.printingService&&null===this.props.deliveryOption?this.props.handleResult():(this.props.setIsLoading(!0),this.props.stripe?this.props.stripe.createToken().then(this.props.handleResult):console.log("Stripe.js hasn't loaded yet.")):v.b.warning("Please fill delivery address.","Error",3e3)}}render(){return n.a.createElement(d.a,{className:"mb-5"},n.a.createElement(u.a,null,n.a.createElement(E.a,{onSubmit:this.handleSubmit.bind(this)},n.a.createElement(g.a,null,n.a.createElement(b.a,{className:"font-weight-bold mb-3 text-primary"},"Pay with Credit Card"),n.a.createElement(p.CardElement,Object.assign({className:"form-control",onChange:this.handleChange},{style:{base:{fontSize:"16px",color:"#424770",fontFamily:"Open Sans, sans-serif",letterSpacing:"0.025em","::placeholder":{color:"#aab7c4"}},invalid:{color:"#c23d4b"}}}))),n.a.createElement("div",{className:"error text-danger",role:"alert"},this.state.errorMessage),n.a.createElement(h.a,{color:"primary",className:"btn-shadow w-100 mb-5 mt-3 btn-multiple-state ".concat(this.props.isLoading?"show-spinner":""),size:"lg"},n.a.createElement("span",{className:"spinner d-inline-block"},n.a.createElement("span",{className:"bounce1"}),n.a.createElement("span",{className:"bounce2"}),n.a.createElement("span",{className:"bounce3"})),n.a.createElement("span",{className:"label"},"PAY - $ ",this.props.totalAmount)),n.a.createElement("p",{className:"w-100 text-center"},n.a.createElement("img",{className:"w-50",src:"/assets/img/stripe_secure.png"})))))}}const N=Object(p.injectStripe)(y);var f=e=>{let{match:t,totalAmount:a,history:r,delivery:c,isPrintingService:m,deliveryAddr:i,couponCode:o,services:d}=e;const[u,E]=Object(l.useState)(!1);return n.a.createElement(p.StripeProvider,{apiKey:"pk_test_Om0uxijJBMMoO04Jc4JFKLoA00bt0BlIDh"},n.a.createElement(p.Elements,null,n.a.createElement(N,{handleResult:e=>{if(!0===m&&null===c)return void v.b.warning("Please select one delivery option.","Error",3e3);if(e.error)return void v.b.warning(e.error.message,"Error",3e3);const a={token:e.token,projectID:t.params.id,userEmail:JSON.parse(localStorage.getItem("current_user")).email,deliveryOption:c,deliveryAddress:i,couponCode:o,services:d};s.a.post("/api/payments/charge",a).then(e=>{E(!1),r.push("/thank-you/payment/".concat(t.params.id))}).catch(e=>{E(!1),v.b.warning(e.response.data.message,"Error",3e3),console.log(e)})},totalAmount:a,isLoading:u,setIsLoading:E,printingService:m,deliveryOption:c,deliveryAddr:i})))},x=a(370);var j=e=>{let{match:t,totalAmount:a,history:r}=e;const[c,m]=Object(l.useState)(!0);return c?n.a.createElement(d.a,null,n.a.createElement(u.a,null,n.a.createElement(b.a,{className:"font-weight-bold mb-3 text-primary"},"Pay with Paypal"),n.a.createElement(x.PayPalButton,{amount:a,onSuccess:(e,a)=>{m(!1),v.b.success("Transaction completed by "+e.payer.name.given_name,"Success",3e3,null,null,"");const l={orderId:a.orderID,projectId:t.params.id};return s.a.post("/api/payments/paypal-transaction-complete",l).then(e=>{m(!0),r.push("/thank-you/payment/".concat(t.params.id))})},options:{currency:"AUD",clientId:"Aa4mA8Iu7vmZRjug25Pg8Dn1JsxmrzCaYrQcPxucBxQfFROsKfnJPRxwIwJrZOdMM9-Gk4QfIskqIslP"}}))):n.a.createElement("div",{className:"loading"})},O=a(230),S=a(160),k=a(451),w=a(429),_=a(448),C=a(82);const P=[{name:"Fast Track (4 Business Days)",value:"PS_DELIVERY_FAST_TRACK",price:20,currency:"AUD"},{name:"Priority (5-7 Business Days)",value:"PS_DELIVERY_PRIORITY",price:10,currency:"AUD"},{name:"Standard (9-11 Business Days)",value:"PS_DELIVERY_STANDARD",price:8,currency:"AUD"}];var I=e=>{let{setDeliveryOption:t,services:a,project:r,handleUpdateService:c,changeDeliveryAddr:s,couponCode:p,updateCoupon:E}=e;const[h,v]=Object(l.useState)([]),[y,N]=Object(l.useState)(0),[f,x]=Object(l.useState)(null);Object(l.useEffect)(()=>{let e=[],t=0;a.forEach(a=>{if(0!==a.quantity&&0!==a.total_price){t+=parseFloat(a.total_price);let l=JSON.parse(a.orders);!1===l.some((function(e){return 1===e.depth}))&&l.unshift({name:a.name,depth:1}),l.forEach(t=>{e.push({service:a,order:t})})}}),N(t),v(e)},[a,r]);const j=e=>{let t=e.service,a=JSON.parse(t.orders),l=0,n=0;if(1===e.order.depth)t.orders="",t.quantity=0,t.total_price=0;else{const r=a.filter((function(t){return t.value!==e.order.value}));r.forEach(e=>{l+=e.quantity,n+=e.totalPrice}),t.quantity=l,t.total_price=n,t.orders=JSON.stringify(r)}c(t)},I=e=>{s(e)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(d.a,{className:"mb-5 invoice-contents"},n.a.createElement(u.a,{className:"d-flex flex-column justify-content-between"},n.a.createElement("div",{className:"d-flex flex-column"},n.a.createElement("div",{className:"d-flex flex-row justify-content-between pt-2 pb-2"},n.a.createElement("div",{className:"d-flex align-self-center"},n.a.createElement("img",{src:"/assets/img/logo-apirender.png",width:"200",style:{objectFit:"contain"},alt:"Logo"})),n.a.createElement("div",{className:"d-flex w-30 text-right align-self-center"},n.a.createElement("p",{className:"text-small text-semi-muted mb-0 w-100"},"APIrender.com Pty Ltd",n.a.createElement("br",null),"ABN 74 636 488 027",n.a.createElement("br",null),"Hamilton, Queensland 4007",n.a.createElement("br",null),"Australia"))),n.a.createElement("div",{className:"d-flex"},n.a.createElement("span",{className:"text-large text-primary"},r.project_name)),n.a.createElement("div",{className:"border-bottom pt-4 mb-5"}),n.a.createElement(O.a,{borderless:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"text-muted text-small mb-2 font-weight-medium"},"Item Name"),n.a.createElement("th",{className:"text-muted text-small mb-2 font-weight-medium"},"Count"),n.a.createElement("th",{className:"text-right text-muted text-small mb-2 font-weight-medium"},"Price"),n.a.createElement("th",null))),n.a.createElement("tbody",null,h.map((e,t)=>n.a.createElement("tr",{key:t},1===e.order.depth&&n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.order.name&&e.order.name),n.a.createElement("td",null,e.order.quantity&&e.order.quantity),n.a.createElement("td",{className:"text-right"},e.order.totalPrice&&"AU$".concat(e.order.totalPrice)),n.a.createElement("td",null,e.order.price&&e.order.quantity&&n.a.createElement("a",{href:"#!",onClick:()=>{j(e)}},n.a.createElement("i",{className:"simple-icon-close"})))),1!==e.order.depth&&n.a.createElement(n.a.Fragment,null,n.a.createElement("td",{className:"pl-4 padding-v-25"},"- ",e.order.name,n.a.createElement("span",{className:"pl-2 text-primary"},3===e.order.depth?"".concat(e.order.parent):"")),n.a.createElement("td",{className:"padding-v-25"},e.order.quantity),n.a.createElement("td",{className:"text-right padding-v-25"},0===e.order.totalPrice?"Free":"AU$ ".concat(e.order.totalPrice)),n.a.createElement("td",{className:"padding-v-25"},n.a.createElement("a",{href:"#!",onClick:()=>{j(e)}},n.a.createElement("i",{className:"simple-icon-close"}))))))))),n.a.createElement(g.a,null,n.a.createElement(b.a,{className:"text-primary font-weight-bolder"},"Coupon"),n.a.createElement(S.a,{type:"text",name:"coupon",placeholder:"Enter coupon",value:p,onChange:e=>E(e.target.value)})),"PRINTING_SERVICES"===r.category&&n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{className:"text-muted"},"We provide affordable delivery to the following countries through our network of printing partnerships: Australia, Austria, Belgium, Brazil, Canada, Cyprus, the Czech Republic, Denmark, Finland, France, French Guiana, French Polynesia, Germany, Gibraltar, Greece, Greenland, Guadeloupe, Guam, Hong Kong, Iceland, Ireland, Italy, Liechtenstein, Luxembourg, Malaysia, Malta, Martinique, Mexico, Monaco, the Netherlands, New Caledonia, New Zealand, Norway, Poland, Portugal, Puerto Rico, R\xe9union, Singapore, Spain, Sweden, Switzerland, the United Kingdom, the United States of America and U.S. Virgin Islands."),n.a.createElement(m.a,{className:"mb-4"},n.a.createElement(i.a,{sm:"12",lg:"12"},n.a.createElement(b.a,{className:"text-primary mb-4 font-weight-bolder"},"Delivery Options")),P&&P.map((e,a)=>n.a.createElement(i.a,{sm:"12",lg:"12",md:"12",key:a},n.a.createElement(d.a,{className:"pt-3 pb-3 pl-3 pr-3"},n.a.createElement("div",{className:"d-flex flex-grow-1 min-width-zero",style:{alignItems:"center",justifyContent:"space-between"}},n.a.createElement(g.a,{check:!0},n.a.createElement(b.a,{check:!0},n.a.createElement(k.a,{type:"radio",name:"DELIVERY_RADIO",id:"RADIO_".concat(e.value),value:e.name,label:e.name,onChange:a=>((e,a)=>{t(e.target.value,a),x({option:e.target.value,price:a})})(a,e.price)}))),n.a.createElement("div",{className:"option-quantity-input"},0!==e.price&&n.a.createElement(w.a,null,n.a.createElement(_.a,{addonType:"prepend"},"$"),n.a.createElement(S.a,{value:0===e.price?"Free":e.price,readOnly:!0})))))))),n.a.createElement(g.a,null,n.a.createElement(b.a,{className:"text-primary font-weight-bolder"},"Delivery Address")),n.a.createElement(g.a,{row:!0},n.a.createElement(i.a,{sm:"6"},n.a.createElement(b.a,null,"Street Name"),n.a.createElement(S.a,{onChange:I,type:"text",name:"streetName",id:"streetName"})),n.a.createElement(i.a,{sm:"6"},n.a.createElement(b.a,null,"Street Number"),n.a.createElement(S.a,{onChange:I,type:"text",name:"streetNumber",id:"streetNumber"}))),n.a.createElement(g.a,{row:!0},n.a.createElement(i.a,{sm:"6"},n.a.createElement(b.a,null,"Unit Number (if applicable)"),n.a.createElement(S.a,{onChange:I,type:"text",name:"unitNumber",id:"unitNumber"})),n.a.createElement(i.a,{sm:"6"},n.a.createElement(b.a,null,"Suburb"),n.a.createElement(S.a,{onChange:I,type:"text",name:"suburb",id:"suburb"}))),n.a.createElement(g.a,{row:!0},n.a.createElement(i.a,{sm:"6"},n.a.createElement(b.a,null,"Zip Code"),n.a.createElement(S.a,{onChange:I,type:"text",name:"zipCode",id:"zipCode"})),n.a.createElement(i.a,{sm:"6"},n.a.createElement(b.a,null,"Country"),n.a.createElement(S.a,{onChange:I,type:"text",name:"country",id:"country"})))),n.a.createElement("div",{className:"d-flex flex-column"},n.a.createElement("div",{className:"border-bottom pt-3 mb-5"}),n.a.createElement(O.a,{borderless:!0,className:"d-flex justify-content-end"},n.a.createElement("tbody",null,n.a.createElement("tr",{className:"font-weight-bold"},n.a.createElement("td",{className:"text-semi-muted"},"Total :"),n.a.createElement("td",{className:"text-right"},"AU$ ",(y+(f&&f.price?f.price:0)).toFixed(2))))),n.a.createElement("div",{className:"border-bottom pt-3 mb-5"})),n.a.createElement("p",null,n.a.createElement(C.b,{exact:!0,to:"/app/projects/add-service/".concat(r._id),className:"top-right-button btn btn-primary btn-lg"},n.a.createElement(o.a,{id:"projects.add-more-services"}))))))};t.default=Object(r.c)(e=>{let{intl:t,match:a,history:r}=e;const[c,p]=Object(l.useState)([]),[d,u]=Object(l.useState)(null),[E,g]=Object(l.useState)(!1),[b,h]=Object(l.useState)(null),[v,y]=Object(l.useState)(0),[N,x]=Object(l.useState)(""),[O,S]=Object(l.useState)({streetName:null,streetNumber:null,unitNumber:null,suburb:null,zipCode:null,country:null});Object(l.useEffect)(()=>{k()},[]);const k=()=>{s.a.post("/api/projects/get-info?_id=".concat(a.params.id)).then(e=>e.data).then(e=>{u(e.project),p(e.services),y(e.services.reduce((e,t)=>e+(t.total_price||0),0)),g(!0)})};return E?n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,null,n.a.createElement(i.a,{xxs:"12"},n.a.createElement("h1",null,n.a.createElement(o.a,{id:"projects.payment"})),n.a.createElement("span",{className:"pt-0 ml-4 breadcrumb-container d-none text-primary text-one d-sm-block d-lg-inline-block"},"( ",d.project_name," )"),n.a.createElement(i.b,{className:"mb-5"}))),n.a.createElement(m.a,null,n.a.createElement(i.a,{sm:"12",md:"8",className:"mb-4"},n.a.createElement(I,{services:c,project:d,handleUpdateService:e=>{s.a.post("/api/services/update",e).then(e=>e.data).then(e=>{k()})},setDeliveryOption:(e,t)=>{const a=c.reduce((e,t)=>e+(t.total_price||0),0);y(a+t),h(e)},changeDeliveryAddr:e=>{S({...O,[e.target.name]:e.target.value.trim()})},updateCoupon:e=>{x(e)},couponCode:N})),n.a.createElement(i.a,{sm:"12",md:"4",className:"mb-4"},n.a.createElement(f,{match:a,services:c,totalAmount:v,delivery:b,deliveryAddr:O,history:r,couponCode:N,isPrintingService:"PRINTING_SERVICES"===d.category}),n.a.createElement(j,{match:a,totalAmount:v,history:r,delivery:b,isPrintingService:"PRINTING_SERVICES"===d.category})))):n.a.createElement("div",{className:"loading"})})},399:function(e,t,a){"use strict";a.r(t);var l=a(3),n=a.n(l),r=a(20),c=a(128),s=a(8),m=a.n(s),i=a(371),o=(a(372),a(101)),p=a(216),d=a(151),u=a(413),E=a(453),g=a(452),b=a(408),h=a(410),v=a(82),y=a(78),N=a(79);var f=Object(c.c)(e=>{let{intl:t,changeOrderBy:a,changePageSize:r,selectedPageSize:c,totalItemCount:s,selectedOrderOption:m,match:i,startIndex:o,endIndex:f,onSearchKey:x,orderOptions:j,pageSizes:O,heading:S}=e;const[k,w]=Object(l.useState)(!1),{messages:_}=t;return n.a.createElement(p.a,null,n.a.createElement(y.a,{xxs:"12"},n.a.createElement("div",{className:"mb-2"},n.a.createElement("h1",null,n.a.createElement(N.a,{id:S})),n.a.createElement("div",{className:"text-zero top-right-button-container"},n.a.createElement(v.b,{exact:!0,to:"/app/projects/new-project/",className:"top-right-button btn btn-primary btn-lg"},n.a.createElement(N.a,{id:"projects.add-new"})),"  ")),n.a.createElement("div",{className:"mb-2"},n.a.createElement(d.a,{color:"empty",className:"pt-0 pl-0 d-inline-block d-md-none",onClick:()=>w(!k)},n.a.createElement(N.a,{id:"pages.display-options"})," ",n.a.createElement("i",{className:"simple-icon-arrow-down align-middle"})),n.a.createElement(u.a,{isOpen:k,className:"d-md-block",id:"displayOptions"},n.a.createElement("div",{className:"d-block d-md-inline-block pt-1"},n.a.createElement(E.a,{className:"mr-1 float-md-left btn-group mb-1"},n.a.createElement(g.a,{caret:!0,color:"outline-dark",size:"xs"},m.label),n.a.createElement(b.a,null,j.map((e,t)=>n.a.createElement(h.a,{key:t,onClick:()=>a(e.column)},e.label)))),n.a.createElement("div",{className:"search-sm d-inline-block float-md-left mr-1 mb-1 align-top"},n.a.createElement("input",{type:"text",name:"keyword",id:"search",placeholder:_["menu.search"],onKeyPress:e=>x(e)}))),n.a.createElement("div",{className:"float-md-right pt-1"},n.a.createElement("span",{className:"text-muted text-small mr-1"},"".concat(o,"-").concat(f," of ").concat(s," ")),n.a.createElement(E.a,{className:"d-inline-block"},n.a.createElement(g.a,{caret:!0,color:"outline-dark",size:"xs"},c),n.a.createElement(b.a,{right:!0},O.map((e,t)=>n.a.createElement(h.a,{key:t,onClick:()=>r(e)},e))))))),n.a.createElement(y.b,{className:"mb-5"})))}),x=a(89),j=a(230),O=a(414),S=a(229),k=a(97),w=a(103),_=a(100),C=a.n(_);var P=n.a.memo(e=>{let{items:t,currentPage:a,totalPage:l,onChangePage:r,deleteProject:c}=e;const s=Object(x.g)();return n.a.createElement(p.a,null,n.a.createElement(y.a,{xxs:"12",className:"mb-3"},n.a.createElement(j.a,{responsive:!0,className:"r-table table table-divided"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Project Title"),n.a.createElement("th",null,"Reference"),n.a.createElement("th",null,"Project Category"),n.a.createElement("th",null,"Cost"),n.a.createElement("th",null,"Order Date"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,t.map((e,t)=>n.a.createElement("tr",{role:"row",key:t,className:"p-5",style:{cursor:"pointer"},onClick:t=>s.push("/app/projects/details/".concat(e._id))},n.a.createElement("td",{role:"cell",className:"p-4 list-item-heading w-20"},n.a.createElement(v.b,{to:"/app/projects/details/".concat(e._id),className:"w-sm-100"},n.a.createElement("p",{className:"mb-1 truncate"},e.project_name))),n.a.createElement("td",{role:"cell",className:"p-4 text-primary w-10"},e.unique_id),n.a.createElement("td",{role:"cell",className:"p-4 text-muted w-15 w-sm-100"},k.b.find(t=>t.value===e.category).desc),n.a.createElement("td",{role:"cell",className:"p-4 text-muted w-10 text-muted text-small w-sm-100"},"$",e.total_amount),n.a.createElement("td",{role:"cell",className:"p-4 w-20"},n.a.createElement("p",{className:"truncate text-muted text-small w-sm-100"},C()(e.date).format("LLLL"))),n.a.createElement("td",{role:"cell",className:"p-4 text-muted w-15"},n.a.createElement(O.a,{color:w.a[e.status],pill:!0},e.status)),n.a.createElement("td",{role:"cell",className:"p-4 text-muted w-10"},"DRAFT"===e.status&&n.a.createElement(d.a,{color:"danger",size:"xs",onClick:t=>c(t,e._id)},"Delete"))))))),n.a.createElement(S.a,{currentPage:a,totalPage:l,onChangePage:e=>r(e)}))}),I=a(1);const F=[{column:"project_name",label:"Project Name"},{column:"category",label:"Category"},{column:"status",label:"Status"},{column:"unique_id",label:"Reference"}],q=[10,20,50,100];t.default=Object(r.b)(e=>{let{authUser:t}=e;return{loginUser:t.user}},{setProjectMenuItems:I.M})(Object(c.c)(n.a.memo(e=>{let{match:t,setProjectMenuItems:a,loginUser:r}=e;const[c,s]=Object(l.useState)(!1),[p,d]=Object(l.useState)(1),[u,E]=Object(l.useState)(10),[g,b]=Object(l.useState)({column:"project_name",label:"Project Name"}),[h,v]=Object(l.useState)(0),[y,N]=Object(l.useState)(1),[x,j]=Object(l.useState)(""),[O,S]=Object(l.useState)([]);Object(l.useEffect)(()=>{d(1)},[u,g]),Object(l.useEffect)(()=>{k()},[u,p,g,x]);const k=()=>{m.a.post("/api/projects/my-list?pageSize=".concat(u,"&currentPage=").concat(p,"&orderBy=").concat(g.column,"&search=").concat(x,"&userID=").concat(r._id)).then(e=>e.data).then(e=>{N(e.totalPage),S(e.data),v(e.totalItem),s(!0)})},w=(p-1)*u,_=p*u;return c?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"disable-text-selection"},n.a.createElement(f,{heading:"projects.all",changeOrderBy:e=>{b(F.find(t=>t.column===e))},changePageSize:E,selectedPageSize:u,totalItemCount:h,selectedOrderOption:g,match:t,startIndex:w,endIndex:_,onSearchKey:e=>{"Enter"===e.key&&j(e.target.value.toLowerCase())},orderOptions:F,pageSizes:q}),n.a.createElement(P,{items:O,currentPage:p,totalPage:y,onChangePage:d,deleteProject:(e,t)=>{e.preventDefault(),Object(i.confirmAlert)({title:"Confirm to Delete",message:"Are you sure you want to delete this project?",buttons:[{label:"Yes",onClick:()=>{m.a.post("/api/projects/delete?_id=".concat(t)).then(e=>{k(),a(),o.a.success("The project has been deleted successfully.","Success",3e3,null,null,"")})}},{label:"No",onClick:()=>{}}]})}}))):n.a.createElement("div",{className:"loading"})})))},400:function(e,t,a){"use strict";a.r(t);var l=a(3),n=a.n(l),r=a(8),c=a.n(r),s=a(216),m=a(151),i=a(413),o=a(453),p=a(452),d=a(408),u=a(410),E=a(128),g=a(82),b=a(78),h=a(79);var v=Object(E.c)(e=>{let{intl:t,changeOrderBy:a,changePageSize:r,selectedPageSize:c,totalItemCount:E,selectedOrderOption:v,match:y,startIndex:N,endIndex:f,onSearchKey:x,orderOptions:j,pageSizes:O,heading:S,projectID:k,project:w,totalPrice:_}=e;const[C,P]=Object(l.useState)(!1),{messages:I}=t;return n.a.createElement(s.a,null,n.a.createElement(b.a,{xxs:"12"},n.a.createElement("div",{className:"mb-2"},n.a.createElement("h1",null,S),!1===w.is_paid&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"text-zero top-right-button-container"},n.a.createElement(g.b,{exact:!0,to:"/app/projects/add-service/".concat(k),className:"top-right-button btn btn-primary btn-lg"},n.a.createElement(h.a,{id:"projects.add-new-service"})),"  ",0!==_&&n.a.createElement(g.b,{exact:!0,to:"/app/projects/payment/".concat(k),className:"top-right-button btn btn-danger btn-lg"},"PAY - AU$",_.toFixed(2))))),n.a.createElement("div",{className:"mb-2"},n.a.createElement(m.a,{color:"empty",className:"pt-0 pl-0 d-inline-block d-md-none",onClick:()=>P(!C)},n.a.createElement(h.a,{id:"pages.display-options"})," ",n.a.createElement("i",{className:"simple-icon-arrow-down align-middle"})),n.a.createElement(i.a,{isOpen:C,className:"d-md-block",id:"displayOptions"},n.a.createElement("div",{className:"d-block d-md-inline-block pt-1"},n.a.createElement(o.a,{className:"mr-1 float-md-left btn-group mb-1"},n.a.createElement(p.a,{caret:!0,color:"outline-dark",size:"xs"},v.label),n.a.createElement(d.a,null,j.map((e,t)=>n.a.createElement(u.a,{key:t,onClick:()=>a(e.column)},e.label)))),n.a.createElement("div",{className:"search-sm d-inline-block float-md-left mr-1 mb-1 align-top"},n.a.createElement("input",{type:"text",name:"keyword",id:"search",placeholder:I["menu.search"],onKeyPress:e=>x(e)}))),n.a.createElement("div",{className:"float-md-right pt-1"},n.a.createElement("span",{className:"text-muted text-small mr-1"},"".concat(N,"-").concat(f," of ").concat(E," ")),n.a.createElement(o.a,{className:"d-inline-block"},n.a.createElement(p.a,{caret:!0,color:"outline-dark",size:"xs"},c),n.a.createElement(d.a,{right:!0},O.map((e,t)=>n.a.createElement(u.a,{key:t,onClick:()=>r(e)},e))))))),n.a.createElement(b.b,{className:"mb-5"})))}),y=a(230),N=a(414),f=a(229),x=a(103),j=a(97);var O=n.a.memo(e=>{let{items:t,currentPage:a,totalPage:l,onChangePage:r,project:c}=e;return n.a.createElement(s.a,null,n.a.createElement(b.a,{xxs:"12",className:"mb-3"},n.a.createElement(y.a,{responsive:!0,className:"r-table table table-divided"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"Product Type"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Cost"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null))),n.a.createElement("tbody",null,t.map((e,t)=>{const a=j.c[c.category].find(t=>t.value===e.value);return n.a.createElement("tr",{role:"row",key:t},n.a.createElement("td",{role:"cell",className:"p-0 list-item-heading w-10"},n.a.createElement("div",{className:"d-flex align-items-center justify-center"},n.a.createElement("img",{alt:e.desc,src:a.img,className:"responsive border-0 card-img-left",style:{width:"100px",height:"85px"}}))),n.a.createElement("td",{role:"cell",className:"truncate align-middle list-item-heading w-40"},e.name,n.a.createElement("span",{className:"text-small text-primary"}," ","( +",(e=>{let t=JSON.parse(e);return t=t.filter((function(e){return 1!=e.depth})),t.reduce((e,t)=>e+(t.quantity||0),0)})(e.orders)," options )")),n.a.createElement("td",{role:"cell",className:"align-middle list-item-heading w-10"},e.quantity),n.a.createElement("td",{role:"cell",className:"align-middle list-item-heading w-10"},e.total_price>0?"$"+e.total_price:""),n.a.createElement("td",{role:"cell",className:"align-middle list-item-heading w-20 text-small"},!1===e.is_paid&&n.a.createElement(N.a,{color:"danger",pill:!0},n.a.createElement(h.a,{id:"projects.payment-required"})),!0===e.is_paid&&n.a.createElement(N.a,{color:x.a[e.status],pill:!0},e.status)),n.a.createElement("td",{role:"cell",className:"truncate align-middle list-item-heading w-10"},!0===e.is_paid&&"WAITING FOR FILES"===e.status&&n.a.createElement(g.b,{exact:!0,to:"/app/projects/briefing/".concat(e._id),className:"top-right-button btn btn-primary btn-sm"},n.a.createElement(h.a,{id:"projects.send-files"})),!0===e.is_paid&&"REQUEST QUOTE"===e.status&&n.a.createElement(g.b,{exact:!0,to:"/app/projects/briefing/".concat(e._id),className:"top-right-button btn btn-primary btn-sm"},"Proceed to Quote Request"),e.is_paid&&("IN PROGRESS"===e.status||"REVIEW"===e.status)&&n.a.createElement(g.b,{exact:!0,to:"/app/projects/view-briefing/".concat(e._id),className:"top-right-button btn btn-danger btn-sm"},n.a.createElement(h.a,{id:"projects.view-briefing"}))))})))),n.a.createElement(f.a,{currentPage:a,totalPage:l,onChangePage:e=>r(e)}))});const S=[{column:"desc",label:"Service Name"},{column:"price",label:"Price"},{column:"quantity",label:"Quantity"}],k=[10,20,50,100];t.default=e=>{let{match:t}=e;const[a,r]=Object(l.useState)(!1),[s,m]=Object(l.useState)(1),[i,o]=Object(l.useState)(10),[p,d]=Object(l.useState)({column:"desc",label:"Service Name"}),[u,E]=Object(l.useState)(0),[g,b]=Object(l.useState)(1),[h,y]=Object(l.useState)(""),[N,f]=Object(l.useState)([]),[x,j]=Object(l.useState)("");Object(l.useEffect)(()=>{m(1)},[i,p]),Object(l.useEffect)(()=>{r(!1),async function(){await c.a.get("/api/projects/detail?_id=".concat(t.params.id,"&pageSize=").concat(i,"&currentPage=").concat(s,"&orderBy=").concat(p.column,"&search=").concat(h)).then(e=>e.data).then(e=>{j(e.project),b(e.totalPage),f(e.services),E(e.totalItem),r(!0)}).catch(e=>{console.log(e.response.data)})}()},[i,s,p,h,t.params.id]);const w=(s-1)*i,_=s*i;return a?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"disable-text-selection"},n.a.createElement(v,{heading:x.project_name,changeOrderBy:e=>{d(S.find(t=>t.column===e))},changePageSize:o,selectedPageSize:i,totalItemCount:u,selectedOrderOption:p,match:t,startIndex:w,endIndex:_,onSearchKey:e=>{"Enter"===e.key&&y(e.target.value.toLowerCase())},orderOptions:S,pageSizes:k,projectID:t.params.id,project:x,totalPrice:N.reduce((function(e,t){return e+t.total_price}),0)}),n.a.createElement(O,{items:N,currentPage:s,totalPage:g,onChangePage:m,project:x}))):n.a.createElement("div",{className:"loading"})}}}]);
//# sourceMappingURL=projects-new.11a5bbf1.chunk.js.map