(this["webpackJsonpapirender-dashboard"]=this["webpackJsonpapirender-dashboard"]||[]).push([[18],{175:function(e,t,a){"use strict";var n=a(81),r=a(4),c=a.n(r),l=a(129);t.a=function(e){var t=e.children,a=Object(r.useRef)(),i=Object(r.useState)(!1),s=Object(n.a)(i,2),m=s[0],o=s[1],u=function(e){if(m){var t=a.current;if(t.contains(e.target)||t===e.target)return;o(!1)}};return Object(r.useEffect)((function(){return["click","touchstart"].forEach((function(e){return document.addEventListener(e,u,!1)})),function(){["click","touchstart"].forEach((function(e){return document.removeEventListener(e,u,!1)}))}}),[m]),c.a.createElement("div",{ref:a,className:"app-menu ".concat(m?"shown":"")},t,c.a.createElement(l.a,{className:"app-menu-button d-inline-block d-xl-none",onClick:function(){return o(!m)}},c.a.createElement("i",{className:"simple-icon-options"})))}},225:function(e,t,a){"use strict";var n=a(4),r=a.n(n),c=a(394),l=a(395),i=a(129),s=a(82);t.a=function(e){var t=e.totalPage,a=void 0===t?0:t,n=e.currentPage,m=void 0===n?1:n,o=e.numberLimit,u=void 0===o?5:o,p=e.lastIsActive,d=void 0===p||p,E=e.firstIsActive,f=void 0===E||E,b=e.onChangePage,g=1,v=u;u>a?(g=1,v=a):m<=parseInt(u/2,10)?(g=1,v=u):m+parseInt(u/2,10)<=a?(g=m-parseInt(u/2,10),v=m+parseInt(u/2,10)):(g=a-(u-1),v=a);for(var h=[],y=g=0===g?1:g;y<=v;y+=1)h.push(y);var N=m<=1?"disabled":"",j=m>=a?"disabled":"",O=m<=1?"disabled":"",x=m>=a?"disabled":"";return a>1?r.a.createElement(s.a,{xxs:"12",className:"mt-3 mb-3"},r.a.createElement(c.a,{className:"pagination justify-content-center"},f&&r.a.createElement(l.a,{className:"page-item ".concat(N)},r.a.createElement(i.a,{className:"page-link first c-pointer",onClick:function(){return b(1)}},r.a.createElement("i",{className:"simple-icon-control-start"}))),r.a.createElement(l.a,{className:"page-item ".concat(O)},r.a.createElement(i.a,{className:"page-link prev c-pointer",onClick:function(){return b(m-1)}},r.a.createElement("i",{className:"simple-icon-arrow-left"}))),h.map((function(e){return r.a.createElement(l.a,{key:e,className:"page-item ".concat(m===e&&"active")},r.a.createElement(i.a,{className:"page-link c-pointer",onClick:function(){return b(e)}},e))})),r.a.createElement(l.a,{className:"page-item ".concat(x)},r.a.createElement(i.a,{className:"page-link next c-pointer",onClick:function(){return b(m+1)}},r.a.createElement("i",{className:"simple-icon-arrow-right"}))),d&&r.a.createElement(l.a,{className:"page-item ".concat(j)},r.a.createElement(i.a,{className:"page-link last c-pointer",onClick:function(){return b(a)}},r.a.createElement("i",{className:"simple-icon-control-end"}))))):r.a.createElement(s.a,{xxs:"12",className:"mt-2"})}},376:function(e,t,a){"use strict";a.r(t);var n=a(114),r=a(2),c=a.n(r),l=a(12),i=a(81),s=a(4),m=a.n(s),o=a(11),u=a.n(o),p=a(134),d=a(212),E=a(82),f=a(25),b=a(108),g=a(410),v=a(397),h=a(137),y=a(413),N=a(435),j=a(414),O=a(153),x=a(157),S=a(93),k=a(86),w=a(101),_=a.n(w),P=a(83),C=a(102),I=a(396),F=a(173),A=a(182),q=(a(155),a(387)),z=a(388),T=a(431),D=a(412),R=a(434),L=m.a.memo((function(e){var t=e.parent,a=e.option,n=e.addServices,r=e.currentItems,c=e.depth;return m.a.createElement(m.a.Fragment,null,m.a.createElement(d.a,{className:"mb-2"},m.a.createElement(E.a,{sm:"12",lg:"12",md:"12"},m.a.createElement(b.a,{className:"pt-3 pb-3 pl-3 pr-3"},m.a.createElement("div",{className:"d-flex flex-grow-1 min-width-zero",style:{alignItems:"center",justifyContent:"space-between"}},m.a.createElement(q.a,{check:!0},m.a.createElement(z.a,{check:!0},m.a.createElement(T.a,{type:"radio",name:"RADIO_".concat(a.value),id:"RADIO_".concat(a.value),label:a.name,value:a.value,onChange:function(){var e={name:a.name,price:a.price,value:t.value,quantity:1,depth:c,type:"RADIO",radioValue:a.value,totalPrice:parseFloat(a.price)};3===c&&(e.parent=t.name),n(e)},checked:!!r.find((function(e){return e.radioValue===a.value}))}))),m.a.createElement("div",{className:"option-quantity-input"},0!==a.price&&m.a.createElement(D.a,null,m.a.createElement(R.a,{addonType:"prepend"},"$"),m.a.createElement(x.a,{value:0===a.price?"Free":a.price,readOnly:!0})))),a.desc&&m.a.createElement("p",{className:"text-left text-muted text-small mb-0 ml-4"},a.desc)))))})),M=m.a.memo((function(e){var t=e.parent,a=e.option,n=e.addServices,r=e.currentItems,c=e.depth,l=Object(s.useState)(!1),o=Object(i.a)(l,2),u=o[0],p=o[1];Object(s.useEffect)((function(){p(!1);r.find((function(e,t){if(e.value===a.value)return p(!0),!0}))}));return m.a.createElement(m.a.Fragment,null,m.a.createElement(d.a,{className:"mb-2"},m.a.createElement(E.a,{sm:"12",lg:"12",md:"12"},m.a.createElement(b.a,{className:"pt-3 pb-3 pl-3 pr-3"},m.a.createElement("div",{className:"d-flex flex-grow-1 min-width-zero",style:{alignItems:"center",justifyContent:"space-between"}},m.a.createElement(q.a,{check:!0},m.a.createElement(z.a,{check:!0},m.a.createElement(T.a,{className:"text-left",type:"checkbox",name:"CHECKBOX_".concat(a.value),id:"CHECKBOX_".concat(a.value),label:a.name,value:a.value,onChange:function(e){var r={name:a.name,price:a.price,value:a.value,quantity:1,depth:c,type:"CHECKBOX",totalPrice:parseFloat(a.price)};3===c&&(r.parent=t.name),n(r),p(!u)},checked:u}))),m.a.createElement("div",{className:"option-quantity-input"},a.price>0&&m.a.createElement(D.a,null,m.a.createElement(R.a,{addonType:"prepend"},"$"),m.a.createElement(x.a,{value:a.price,readOnly:!0}))))))))})),U=m.a.memo((function(e){var t=e.rootItem,a=e.subOption,n=e.addSubOption,r=e.currentItems,c=e.rootQuantity,l=e.parentQuantity,o=e.parentOption,u=Object(s.useState)(0),p=Object(i.a)(u,2),d=p[0],E=p[1],f=Object(s.useState)(!1),b=Object(i.a)(f,2),g=b[0],v=b[1],h=Object(s.useState)(0),y=Object(i.a)(h,2),N=y[0],j=y[1];Object(s.useEffect)((function(){0==r.length&&E(0);r.find((function(e,t){if(e.value===a.value)return E(e.quantity),!0}))}),[r]);var S=function(){var e=!1;return r.find((function(t,a){if(t.parent===o.name&&3===t.depth&&t.quantity>=1)return e=!0,!0})),e};return m.a.createElement("li",{className:"mt-1 mb-1"},m.a.createElement("div",{className:"d-flex",style:{alignItems:"center",justifyContent:"space-between"}},m.a.createElement("span",{className:"mb-0 text-default color-theme-1"},a.name,m.a.createElement("span",{className:"ml-2 text-muted"},a.price>0&&m.a.createElement(m.a.Fragment,null,a.price," / ",a.unit?a.unit:"photo"))),m.a.createElement("div",{className:"option-quantity-input"},m.a.createElement(O.a,{color:"primary",className:"default",onClick:function(){return function(){if("AT_LEAST_ONE"!==a.required||S())if(t.price&&0==c)E(0);else{var e=d;e=e>0?e-1:0;var r={name:a.name,price:a.price,value:a.value,quantity:e,depth:3,parent:o.name,totalPrice:parseFloat(a.price)*e};n(r),E(e)}}()}},"\u2014"),m.a.createElement(x.a,{type:"text",value:d,readOnly:!0}),m.a.createElement(O.a,{color:"primary",className:"default",onClick:function(){return function(){if("AT_LEAST_ONE"!==a.required||S())if(t.price&&0==c)E(0);else if(!(o.price&&d+1>l)){var e=d+1,r={name:a.name,price:a.price,value:a.value,quantity:e,depth:3,parent:o.name,totalPrice:parseFloat(a.price)*e};n(r),E(e)}}()}},"\uff0b"))),a.example_images&&m.a.createElement(k.b,{to:"#",className:"ml-1 text-small text-danger",onClick:function(){v(!0),j(0)},location:{}},"\xa0(View Example)\xa0"),a.example_link&&m.a.createElement("a",{target:"_blank",href:a.example_link,className:"ml-1 text-small text-danger"},"\xa0(View Example)\xa0"),g&&m.a.createElement(F.a,{mainSrc:a.example_images[N],nextSrc:a.example_images[(N+1)%a.example_images.length],prevSrc:a.example_images[(N+a.example_images.length-1)%a.example_images.length],onCloseRequest:function(){return v(!1)},onMovePrevRequest:function(){return j((N+a.example_images.length-1)%a.example_images.length)},onMoveNextRequest:function(){return j((N+1)%a.example_images.length)}}))})),B=a(341),Q=m.a.memo((function(e){var t=e.subOption,a=e.parentOption,n=e.addedItems,r=e.addSubOption,c=Object(s.useState)(0),l=Object(i.a)(c,2),o=l[0],u=l[1];Object(s.useEffect)((function(){0===n.length&&u(0),n.find((function(e,a){if(e.value===t.value)return u(e.quantity),!0}))}),[n]);return m.a.createElement(E.a,{sm:6,lg:6,xl:6,className:"mb-3"},m.a.createElement(b.a,null,m.a.createElement("p",{className:"text-small text-center p-2 mb-0 font-weight-light"},t.name),m.a.createElement("div",{className:"position-relative text-center"},m.a.createElement(k.b,{to:"#",className:"w-sm-100"},m.a.createElement(g.a,{top:!0,alt:t.name,src:t.img,style:{width:"100%"}}))),m.a.createElement(h.a,{className:"text-center",style:{padding:"0.5rem"}},m.a.createElement("label",{className:""},"Select number of floors"),m.a.createElement("div",{className:"d-flex items-center justify-content-center"},m.a.createElement("div",{className:"option-quantity-input mb-1"},m.a.createElement(O.a,{color:"primary",className:"default",onClick:function(){return function(){var e=o;e=e>0?e-1:0;var n={name:t.name,price:t.price,value:t.value,quantity:e,depth:3,parent:a.name,totalPrice:parseFloat(t.price)*e};r(n),u(e)}()}},"\u2014"),m.a.createElement(x.a,{type:"text",value:o,readOnly:!0}),m.a.createElement(O.a,{color:"primary",className:"default",onClick:function(){return function(){var e=o+1,n={name:t.name,price:t.price,value:t.value,quantity:e,depth:3,parent:a.name,totalPrice:parseFloat(t.price)*e};r(n),u(e)}()}},"\uff0b"))),m.a.createElement(B.a,{className:"text-small mb-0 font-weight-light"},m.a.createElement("span",{className:"text-primary"},"$",t.price,"\xa0/\xa0",t.unit)))))})),V=m.a.memo((function(e){var t=e.rootItem,a=e.option,n=e.addServices,r=(e.addSelectionService,e.currentItems),c=e.serviceQuantity,l=Object(s.useState)(!1),o=Object(i.a)(l,2),u=o[0],p=o[1],f=Object(s.useState)(!1),g=Object(i.a)(f,2),v=g[0],h=g[1],y=Object(s.useState)(0),N=Object(i.a)(y,2),j=N[0],S=N[1],w=Object(s.useState)(!1),_=Object(i.a)(w,2),P=_[0],C=_[1],q=Object(s.useState)(0),z=Object(i.a)(q,2),T=z[0],D=z[1];Object(s.useEffect)((function(){0==r.length&&S(0);r.find((function(e,t){if(e.value===a.value)return"YES_OR_NO"===e.type?p(!0):S(e.quantity),!0}))}));return m.a.createElement(m.a.Fragment,null,m.a.createElement(d.a,{className:"mb-2"},m.a.createElement(E.a,{sm:"12",lg:"12",md:"12"},m.a.createElement(b.a,{className:"pt-3 pb-3 pl-3 pr-3"},m.a.createElement("div",{className:"d-flex flex-grow-1 min-width-zero",style:{alignItems:"center",justifyContent:"space-between"}},m.a.createElement("a",{href:"#!",onClick:function(e){return!1!==a.is_collapse?h(!v):e.preventDefault()},className:"".concat(!1===a.is_collapse?"text-black":"color-theme-1")},!1!==a.is_collapse&&m.a.createElement("i",{className:"simple-icon-arrow-down align-middle mr-2"}),a.name,a.price&&!a.first_price&&m.a.createElement("span",{className:"mb-0 ml-2 text-muted"},"$",a.price," / ",a.unit?a.unit:"photo")),a.price&&m.a.createElement(m.a.Fragment,null,"YES_OR_NO"===a.type?m.a.createElement("div",{className:"option-quantity-input"},m.a.createElement(A.a,{className:"custom-switch custom-switch-primary",checked:u,onChange:function(e){var t={name:a.name,value:a.value,price:a.price,quantity:1,type:"YES_OR_NO",checked:e,depth:2,totalPrice:parseFloat(a.price)};n(t),p(e)}})):m.a.createElement("div",{className:"option-quantity-input"},m.a.createElement(O.a,{color:"primary",className:"default",onClick:function(){return function(){if(!t.price||0!==c){var e=j;e=e>0?e-1:0;var r=a.first_price?a.first_price+parseFloat(a.price)*(e-1):parseFloat(a.price)*e,l={name:a.name,price:a.price,value:a.value,quantity:e,depth:2,totalPrice:r};n(l),S(e)}}()}},"\u2014"),m.a.createElement(x.a,{type:"text",value:j,readOnly:!0}),m.a.createElement(O.a,{color:"primary",className:"default",onClick:function(){return function(){if(!t.price||0!==c){var e=j+1,r=a.first_price?a.first_price+parseFloat(a.price)*(e-1):parseFloat(a.price)*e,l={name:a.name,price:a.price,value:a.value,quantity:e,depth:2,totalPrice:r};n(l),S(e)}}()}},"\uff0b")))),!1===a.is_collapse?m.a.createElement("div",{className:"text-left mt-2"},m.a.createElement("p",{className:"text-muted text-small"},a.desc,a.example_images&&m.a.createElement(k.b,{className:"text-danger",to:"#!",onClick:function(){C(!0),D(0)},locaiont:{}},"\xa0(View Example)\xa0"),a.example_link&&m.a.createElement("a",{target:"_blank",href:a.example_link,className:"ml-1 text-small text-danger"},"\xa0(View Example)\xa0")),m.a.createElement("ul",{className:"list-unstyled"},a.items&&a.items.map((function(e,l){return"SELECT_ONE"===a.itemsType?m.a.createElement(L,{key:l,parent:a,option:e,addServices:n,currentItems:r,depth:3}):"SELECT_MULTIPLE"===a.itemsType?m.a.createElement(M,{key:l,parent:a,option:e,addServices:n,currentItems:r,depth:3}):m.a.createElement(U,{key:l,rootItem:t,subOption:e,addSubOption:n,currentItems:r,parentOption:a,parentQuantity:j,rootQuantity:c})}))),a.thumb_items&&m.a.createElement(d.a,null,a.thumb_items.map((function(e,t){return m.a.createElement(Q,{key:t,subOption:e,addSubOption:n,addedItems:r,parentOption:a})})))):m.a.createElement(I.a,{isOpen:v},m.a.createElement("div",{className:"text-left mt-2"},m.a.createElement("p",{className:"text-muted text-small"},a.desc,a.example_images&&m.a.createElement(k.b,{className:"text-danger",to:"#!",onClick:function(){C(!0),D(0)},locaiont:{}},"\xa0(View Example)\xa0"),a.example_link&&m.a.createElement("a",{target:"_blank",href:a.example_link,className:"ml-1 text-small text-danger"},"\xa0(View Example)\xa0")),m.a.createElement("ul",{className:"list-unstyled"},a.items&&a.items.map((function(e,l){return"SELECT_ONE"===a.itemsType?m.a.createElement(L,{key:l,parent:a,option:e,addServices:n,currentItems:r,depth:3}):"SELECT_MULTIPLE"===a.itemsType?m.a.createElement(M,{key:l,parent:a,option:e,addServices:n,currentItems:r,depth:3}):m.a.createElement(U,{key:l,rootItem:t,subOption:e,addSubOption:n,currentItems:r,parentOption:a,parentQuantity:j,rootQuantity:c})}))),a.thumb_items&&m.a.createElement(d.a,null,a.thumb_items.map((function(e,t){return m.a.createElement(Q,{key:t,subOption:e,addSubOption:n,addedItems:r,parentOption:a})}))))),m.a.createElement(I.a,{isOpen:v})))),P&&m.a.createElement(F.a,{mainSrc:a.example_images[T],nextSrc:a.example_images[(T+1)%a.example_images.length],prevSrc:a.example_images[(T+a.example_images.length-1)%a.example_images.length],onCloseRequest:function(){return C(!1)},onMovePrevRequest:function(){return D((T+a.example_images.length-1)%a.example_images.length)},onMoveNextRequest:function(){return D((T+1)%a.example_images.length)}}))})),$=m.a.memo((function(e){var t=e.item,a=e.index,r=e.addToCartAction,c=e.currentItems,l=Object(S.h)(),o=Object(S.g)(),p=Object(s.useState)(!1),f=Object(i.a)(p,2),w=f[0],I=f[1],F=Object(s.useState)(0),A=Object(i.a)(F,2),q=A[0],z=A[1],T=Object(s.useState)([]),D=Object(i.a)(T,2),R=D[0],U=D[1],B=Object(s.useState)(0),Q=Object(i.a)(B,2),$=Q[0],J=Q[1];Object(s.useEffect)((function(){var e=[];e.push.apply(e,Object(n.a)(c.orders));var a=e.find((function(e){return e.value===t.value}));void 0!==a&&z(a.quantity),J(e.reduce((function(e,t){return e+(t.totalPrice||0)}),0)),U(e)}),[]);var K=function(e){var t=[];R.map((function(e){return t.push(e)})),void 0===t.find((function(a,n){if(a.value===e.value)return"YES_OR_NO"===e.type?t.splice(n,1):"RADIO"===e.type?t[n]=e:"CHECKBOX"===e.type?t.splice(n,1):0!==e.quantity?t[n]=e:t.splice(n,1),!0}))&&0!==e.quantity&&t.push(e);var a=t.reduce((function(e,t){return e+(t.totalPrice||0)}),0);J(a),U(t)},G=function(e){var t=R;void 0===t.find((function(a,n){if(a.value===e.value)return t.splice(n,1),!0}))&&t.push(e);var a=t.reduce((function(e,t){return e+(t.totalPrice||0)}),0);J(a),U(t)};return m.a.createElement(m.a.Fragment,null,m.a.createElement(E.a,{sm:"6",lg:"4",xl:"4",className:"mb-3"},m.a.createElement(b.a,{onClick:function(){return I(!w)}},m.a.createElement("div",{className:"position-relative"},m.a.createElement(k.b,{to:"#"},m.a.createElement(g.a,{top:!0,alt:t.name,src:t.img})),0!==c.orders.length&&m.a.createElement(v.a,{color:"primary",pill:!0,className:"position-absolute badge-top-left",style:{fontSize:"90%"}},t.price?m.a.createElement(m.a.Fragment,null,void 0!==c.orders.find((function(e){return e.value===t.value}))?c.orders.find((function(e){return e.value===t.value})).quantity:0," ","images -"," ",c.orders.reduce((function(e,t){return e+(t.quantity||0)}),0)-(void 0!==c.orders.find((function(e){return e.value===t.value}))?c.orders.find((function(e){return e.value===t.value})).quantity:0)," ",m.a.createElement(P.a,{id:"projects.options"}),"- $",c.orders.reduce((function(e,t){return e+(t.totalPrice||0)}),0)):m.a.createElement(m.a.Fragment,null,c.orders.reduce((function(e,t){return e+(t.quantity||0)}),0)," ","- images - $",c.orders.reduce((function(e,t){return e+(t.totalPrice||0)}),0)))),m.a.createElement(h.a,null,m.a.createElement(d.a,null,m.a.createElement(E.a,{xxs:"12"},m.a.createElement(y.a,{className:"text-center text-one"},t.name)))))),m.a.createElement(N.a,{isOpen:w,size:"xl",toggle:function(){return I(!w)}},m.a.createElement(j.a,{className:"no-padding"},m.a.createElement("span",{onClick:function(){return I(!1)},className:"text-large position-absolute",style:{right:"10px",top:0,cursor:"pointer",zIndex:1002}},"\xd7"),m.a.createElement(d.a,{style:{margin:0}},m.a.createElement(E.a,{sm:"12",lg:"6",md:"12",className:"no-padding"},m.a.createElement("img",{src:t.img,className:"img-fluid",style:{objectFit:"cover",height:"100%"}})),m.a.createElement(E.a,{sm:"12",lg:"6",md:"12",className:"no-padding"},m.a.createElement("div",{style:{padding:"2rem"}},m.a.createElement("div",{className:"text-center"},m.a.createElement("h5",{className:"text-primary font-weight-semibold color-theme-2 mb-4"},t.name)),m.a.createElement("div",{className:"text-center"},m.a.createElement("p",null,t.desc&&t.desc),t.price&&m.a.createElement(m.a.Fragment,null,m.a.createElement("p",{className:"text-primary text-one"},"$",t.price," / ",t.unit?t.unit:"photo"),m.a.createElement("div",{className:"quantity-input mb-5"},m.a.createElement(O.a,{color:"secondary",className:"default",onClick:function(){return function(){var e=q;if(0===(e=e>0?e-1:0))return U([]),J(0),void z(0);var a={name:t.name,price:t.price,value:t.value,quantity:e,depth:1,totalPrice:parseFloat(t.price)*e};z(e),K(a)}()}},"\u2014"),m.a.createElement(x.a,{type:"text",value:q,readOnly:!0}),m.a.createElement(O.a,{color:"secondary",className:"default",onClick:function(){return function(){var e=q+1;if(0===e)return U([]),void J(0);var a={name:t.name,price:t.price,value:t.value,quantity:e,depth:1,totalPrice:parseFloat(t.price)*e};z(e),K(a)}()}},"\uff0b"))),m.a.createElement(_.a,{options:{suppressScrollX:!0,wheelPropagation:!1}},m.a.createElement("div",{className:"pl-3 pt-3 pb-4 pr-3",style:{height:"300px"}},C.a[t.value]&&C.a[t.value].map((function(e,a){return"ALONE_SELECT"===e.extraType?m.a.createElement(M,{key:a,rootItem:t,option:e,addServices:K,currentItems:R,depth:2}):"SELECT_ONE"===t.itemsType?m.a.createElement(L,{key:a,parent:t,option:e,addServices:K,currentItems:R,depth:2}):"SELECT_MULTIPLE"===t.itemsType?m.a.createElement(M,{key:a,rootItem:t,option:e,addServices:K,currentItems:R,depth:2}):m.a.createElement(V,{key:a,rootItem:t,option:e,addServices:K,addSelectionService:G,serviceQuantity:q,currentItems:R})}))))),m.a.createElement("hr",{className:"my-4"}),m.a.createElement("div",{className:"footer"},m.a.createElement("span",{className:"text-price text-large text-semi-muted"},!0!==t.is_free&&"$".concat(parseFloat($).toFixed(2))),m.a.createElement(O.a,{color:"primary",className:"float-right",onClick:function(e){return function(e){if(!0===t.is_free){var n=0;R.map((function(e){n+=e.quantity}));var c={is_paid:!0,name:t.name,value:t.value,orders:JSON.stringify(R),total_price:0,quantity:n,project:l.id,status:"REQUEST QUOTE"};u.a.post("/api/services/add-free-service",c).then((function(e){!0===e.data.success&&o.push("/app/projects/details/".concat(l.id))}))}else r(R,a);I(!1)}()}},!0===t.is_free?"Proceed to Quote Request":m.a.createElement(P.a,{id:"projects.add-to-cart"}))," ")))))))})),J=Object(f.b)(null,{})(Object(p.c)(m.a.memo((function(e){e.intl;var t=e.allOrders,a=e.addItemsToCart,n=e.project;return m.a.createElement(m.a.Fragment,null,m.a.createElement(d.a,null,C.c[n.category].map((function(e,n){return m.a.createElement($,{item:e,key:n,index:n,addToCartAction:a,currentItems:t[n]})}))))})))),K=a(175),G=Object(f.b)(null,{})((function(e){var t=e.addedItems,a=e.match,n=(e.history,0);return m.a.createElement(K.a,null,m.a.createElement(_.a,{options:{suppressScrollX:!0,wheelPropagation:!1}},m.a.createElement("div",{className:"p-4"},m.a.createElement("p",{className:"text-default font-weight-semibold text-one"},m.a.createElement(P.a,{id:"projects.order-summary"})),m.a.createElement("ul",{className:"list-unstyled mb-2"},0!==t.length&&t.map((function(e,t){var a=0;if(0!==e.orders.length)return m.a.createElement("li",{className:"added-cart-item nav-item",key:t},0!==e.orders.length&&e.orders.map((function(e,t){a+=parseFloat(e.totalPrice),n+=parseFloat(e.totalPrice)})),m.a.createElement("span",{className:"color-theme-1 font-weight-medium"},0!==e.orders.length&&e.name),m.a.createElement("span",{className:"float-right"},"$",a))}))),0!==n&&m.a.createElement(m.a.Fragment,null,m.a.createElement("p",{className:"text-center mt-5"},m.a.createElement(k.b,{to:"/app/projects/payment/".concat(a.params.id),className:"default mb-2 btn btn-danger"},m.a.createElement(P.a,{id:"projects.pay"})," - AU$",n.toFixed(2))," "),m.a.createElement("p",null,m.a.createElement("img",{className:"w-100",src:"/assets/img/stripe_secure.png"})),m.a.createElement("p",null,m.a.createElement("img",{className:"w-100",src:"/assets/img/powered_by_paypal.png"}))))))})),Y=a(116);t.default=Object(p.c)((function(e){e.intl;var t=e.match,a=e.history,r=Object(s.useState)(!1),o=Object(i.a)(r,2),p=o[0],f=o[1],b=Object(s.useState)([]),g=Object(i.a)(b,2),v=g[0],h=g[1],y=Object(s.useState)([]),N=Object(i.a)(y,2),j=N[0],O=N[1],x=Object(s.useState)([]),S=Object(i.a)(x,2),k=S[0],w=S[1];Object(s.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.a.post("/api/projects/get-info?_id=".concat(t.params.id)).then((function(e){return e.data})).then((function(e){w(e.project);var t=[];C.c[e.project.category].map((function(a){var n={name:a.name,value:a.value,orders:[]},r=e.services.find((function(e){return e.value===a.value}));void 0!=r&&(n.orders=JSON.parse(r.orders)),t.push(n)}));var a=Object.keys(t).map((function(e){return t[e]}));O(a),h(t),f(!0)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return p?m.a.createElement(m.a.Fragment,null,m.a.createElement(d.a,{className:"app-row"},m.a.createElement(E.a,{xxs:"12"},m.a.createElement("h1",null,m.a.createElement(P.a,{id:"menu.add-service"})),m.a.createElement(E.b,{className:"mb-5"}))),m.a.createElement(d.a,{className:"app-row"},m.a.createElement(E.a,{sm:"12",md:"12",className:"mb-4"},0!=v.length&&m.a.createElement(J,{match:t,allOrders:v,project:k,addItemsToCart:function(e,a){var r=[];r.push.apply(r,Object(n.a)(e));var c=v;c[a].orders=r,c[a].orders.sort((function(e,t){return e.depth>t.depth?1:-1}));var l=Object.keys(c).map((function(e){return c[e]})),i=[];i.push.apply(i,Object(n.a)(l)),O(i),function(e){var a=e.filter((function(e){return 0!==e.orders.length})),n={id:t.params.id,services:JSON.stringify(a)};u.a.post("/api/services/add",n).then((function(e){return e.data})).then((function(e){Y.a.success("The service has been added to your order.","Thank you!",3e3,null,null,"")})).catch((function(e){console.log(e.response),Y.a.warning("Somthing went wrong. Please try again.","Error!",3e3,null,null,"")}))}(c);var s=[];s.push.apply(s,Object(n.a)(c)),h(s)}}))),m.a.createElement(G,{addedItems:j,match:t,history:a})):m.a.createElement("div",{className:"loading"})}))},378:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n),c=a(134),l=a(212),i=a(82),s=a(83),m=a(114),o=a(81),u=a(11),p=a.n(u),d=a(25),E=a(108),f=a(137),b=a(387),g=a(388),v=a(157),h=a(411),y=a(86),N=a(172),j=a(153),O=function(e){var t=e.className,a=e.onClickPrev,n=e.prevLabel,c=e.onClickNext,l=e.nextLabel;return r.a.createElement(N.WithWizard,{render:function(e){var i=e.next,s=e.previous,m=e.step,o=e.steps;return r.a.createElement("div",{className:"wizard-buttons ".concat(t)},r.a.createElement(j.a,{color:"primary",className:"mr-1 ".concat(o.indexOf(m)<=0?"disabled":""),onClick:function(){a(s,o,m)}},n),r.a.createElement(j.a,{color:"primary",className:o.indexOf(m)>=o.length-1?"disabled":"",onClick:function(){c(i,o,m)}},l))}})},x=function(e){var t=e.className,a=e.disableNav,n=e.topNavClick,c=function(e,t,a,n){return e.indexOf(t)===a?"step-doing":e.indexOf(t)>a||n.isDone?(n.isDone=!0,"step-done"):"step"};return r.a.createElement(N.WithWizard,{render:function(e){e.next,e.previous;var l=e.step,i=e.steps,s=(e.go,e.push);return r.a.createElement("ul",{className:"nav nav-tabs ".concat(t).concat(a?" disabled":"")},i.map((function(e,t){return e.hideTopNav?r.a.createElement("span",{key:"topNavStep_".concat(t)}):r.a.createElement("li",{key:"topNavStep_".concat(t),className:"nav-item ".concat(c(i,l,t,e))},r.a.createElement(y.b,{to:"#",location:{},className:"nav-link",onClick:function(){return function(e,t){a||n(e,t)}(e,s)}},r.a.createElement("span",null,e.name),r.a.createElement("small",null,e.desc)))})))}})},S=a(88),k=a(410),w=a(431),_=a(341),P=a(84),C=a.n(P),I=r.a.memo((function(e){var t=e.category,a=e.isSelected,n=e.onCheckItem,c=e.step;return r.a.createElement(i.a,{sm:6,lg:4,xl:4,className:"mb-3"},r.a.createElement(E.a,{onClick:function(e){return n(e,t.value,c)},className:C()({active:a===t.value})},r.a.createElement("div",{className:"position-relative text-center"},r.a.createElement(y.b,{to:"#",className:"w-40 w-sm-100"},r.a.createElement(k.a,{top:!0,alt:t.desc,src:t.img,style:{width:"40%"}}))),r.a.createElement(f.a,{className:"d-flex align-items-center justify-content-center"},r.a.createElement(w.a,{className:"item-check mb-0 mr-1",type:"checkbox",onChange:function(){},checked:!!a.includes(t.value),id:"check_".concat(t.id),label:""}),r.a.createElement(_.a,{className:"text-default text-one mb-0 font-weight-light"},t.desc))))})),F=a(102),A=a(1),q=Object(d.b)((function(e){return{loginUser:e.authUser.user}}),{setProjectMenuItems:A.M})(Object(c.c)(r.a.memo((function(e){var t=e.intl,a=e.setProjectMenuItems,c=e.loginUser,i=Object(n.useState)(!1),u=Object(o.a)(i,2),d=u[0],j=u[1],k=Object(n.useState)(!1),w=Object(o.a)(k,2),_=w[0],P=w[1],C=Object(n.useState)(null),A=Object(o.a)(C,2),q=A[0],z=A[1],T=Object(n.useState)([{valid:!1,name:"projectCategory",value:"",errorMsg:"Please select project category"},{valid:!1,name:"projectDetail",valProjectName:"",valProjectDescription:"",errorMsg:"Please fill all fields out"}]),D=Object(o.a)(T,2),R=D[0],L=D[1],M=function(e){var t=e.target.value,a=e.target.name,n=Object(m.a)(R);"projectDescription"==a?n[1].valProjectDescription=t:(n[1].valid=null!=t,n[1].valProjectName=t),L(n)},U=function(e,t,a){var n=Object(m.a)(R);n[a].value=t,n[a].valid=!0,L(n)},B=t.messages;return r.a.createElement(E.a,null,r.a.createElement(f.a,{className:"wizard wizard-default"},r.a.createElement(N.Wizard,null,r.a.createElement(x,{className:"justify-content-center",disableNav:!0}),r.a.createElement(N.Steps,null,r.a.createElement(N.Step,{id:"step1",name:B["wizard.step-name-1"],desc:B["projects.project-step-1"]},r.a.createElement("div",{className:"wizard-basic-step mt-5"},r.a.createElement(l.a,null,F.b.map((function(e){return r.a.createElement(I,{category:e,isSelected:R[0].value,onCheckItem:U,step:0,key:e.id})}))))),r.a.createElement(N.Step,{id:"step2",name:B["wizard.step-name-2"],desc:B["projects.project-step-2"]},r.a.createElement("div",{className:"wizard-basic-step mt-5"},r.a.createElement(b.a,null,r.a.createElement(g.a,{for:"exampleEmail"},r.a.createElement(s.a,{id:"projects.project-name"})),r.a.createElement(v.a,{type:"text",name:"projectName",id:"projectName",value:R[1].valProjectName,placeholder:B["projects.project-name-placeholder"],onChange:function(e){return M(e)}})),r.a.createElement(b.a,null,r.a.createElement(g.a,{for:"exampleEmail"},r.a.createElement(s.a,{id:"projects.project-name"})),r.a.createElement(v.a,{type:"textarea",name:"projectDescription",id:"projectDescription",value:R[1].valProjectDescription,placeholder:B["projects.project-desc-placeholder"],onChange:function(e){return M(e)}})))),r.a.createElement(N.Step,{id:"step3",hideTopNav:!0},r.a.createElement("div",{className:"wizard-basic-step text-center pt-3"},_||null==q?r.a.createElement("div",null,r.a.createElement(h.a,{color:"primary",className:"mb-1"}),r.a.createElement("p",null,r.a.createElement(s.a,{id:"wizard.async"}))):r.a.createElement("div",null,r.a.createElement("h2",{className:"mb-2"},r.a.createElement(s.a,{id:"wizard.content-thanks"})),r.a.createElement("p",null,r.a.createElement(s.a,{id:"wizard.projects.created"})),r.a.createElement(y.b,{to:"/app/projects/add-service/".concat(q),className:"btn btn-primary list-item-heading mb-0 truncate w-xs-100  mb-2"},r.a.createElement("span",{className:"align-middle d-inline-block"},r.a.createElement(s.a,{id:"wizard.project.go-service"}))))))),r.a.createElement(O,{onClickNext:function(e,t,n){if(!(t.length-1<=t.indexOf(n))){var r=t.indexOf(n),l=R[r];l.valid?(e(),n.isDone=!0,t.length-2<=t.indexOf(n)&&(j(!0),function(){P(!0);var e={user_id:c._id,category:R[0].value,project_name:R[1].valProjectName,project_description:R[1].valProjectDescription,is_paid:!1,status:"DRAFT"};p.a.post("/api/projects/create",e).then((function(e){a({userId:c._id,role:c.role}),z(e.data._id),P(!1)})).catch((function(e){alert(e)}))}())):S.b.warning(l.errorMsg,"Validation Error",3e3,null,null,"")}},onClickPrev:function(e,t,a){t.indexOf(a)<=0||e()},className:"justify-content-center ".concat(d&&"invisible"," mt-4"),prevLabel:B["wizard.prev"],nextLabel:B["wizard.next"]}))))}))));t.default=Object(c.c)((function(e){e.intl,e.match;return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,null,r.a.createElement(i.a,{xxs:"12"},r.a.createElement("h1",null,r.a.createElement(s.a,{id:"menu.new-project"})),r.a.createElement(i.b,{className:"mb-5"}))),r.a.createElement(l.a,null,r.a.createElement(i.a,{sm:"12",md:"12",className:"mb-4"},r.a.createElement(q,null))))}))},379:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(81),c=a(4),l=a.n(c),i=a(134),s=a(11),m=a.n(s),o=a(212),u=a(82),p=a(83),d=a(98),E=a(99),f=a(106),b=a(104),g=a(358),v=a(108),h=a(137),y=a(223),N=a(387),j=a(388),O=a(153),x=a(88),S=function(e){for(var t in e)if(null===e[t]&&"unitNumber"!==t)return!1;return!0},k=function(e){Object(f.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={errorMessage:""},e.handleChange=function(t){var a=t.error;a?e.setState({errorMessage:a.message}):e.setState({errorMessage:""})},e.handleSubmit=function(t){t.preventDefault(),!0!==e.props.printingService||S(e.props.deliveryAddr)?!0===e.props.printingService&&null===e.props.deliveryOption?e.props.handleResult():(e.props.setIsLoading(!0),e.props.stripe?e.props.stripe.createToken().then(e.props.handleResult):console.log("Stripe.js hasn't loaded yet.")):x.b.warning("Please fill delivery address.","Error",3e3,null,null,"")},e}return Object(E.a)(a,[{key:"render",value:function(){return l.a.createElement(v.a,{className:"mb-5"},l.a.createElement(h.a,null,l.a.createElement(y.a,{onSubmit:this.handleSubmit.bind(this)},l.a.createElement(N.a,null,l.a.createElement(j.a,{className:"font-weight-bold mb-3 text-primary"},"Pay with Credit Card"),l.a.createElement(g.CardElement,Object.assign({className:"form-control",onChange:this.handleChange},{style:{base:{fontSize:"16px",color:"#424770",fontFamily:"Open Sans, sans-serif",letterSpacing:"0.025em","::placeholder":{color:"#aab7c4"}},invalid:{color:"#c23d4b"}}}))),l.a.createElement("div",{className:"error text-danger",role:"alert"},this.state.errorMessage),l.a.createElement(O.a,{color:"primary",className:"btn-shadow w-100 mb-5 mt-3 btn-multiple-state ".concat(this.props.isLoading?"show-spinner":""),size:"lg"},l.a.createElement("span",{className:"spinner d-inline-block"},l.a.createElement("span",{className:"bounce1"}),l.a.createElement("span",{className:"bounce2"}),l.a.createElement("span",{className:"bounce3"})),l.a.createElement("span",{className:"label"},"PAY - $ ",this.props.totalAmount)),l.a.createElement("p",{className:"w-100 text-center"},l.a.createElement("img",{className:"w-50",src:"/assets/img/stripe_secure.png"})))))}}]),a}(c.Component),w=Object(g.injectStripe)(k),_=function(e){var t=e.match,a=e.totalAmount,n=e.history,i=e.delivery,s=e.isPrintingService,o=e.deliveryAddr,u=Object(c.useState)(!1),p=Object(r.a)(u,2),d=p[0],E=p[1];return l.a.createElement(g.StripeProvider,{apiKey:"pk_test_Om0uxijJBMMoO04Jc4JFKLoA00bt0BlIDh"},l.a.createElement(g.Elements,null,l.a.createElement(w,{handleResult:function(e){if(!0!==s||null!==i)if(e.error)x.b.warning(e.error.message,"Error",3e3);else{var a={token:e.token,projectID:t.params.id,userEmail:JSON.parse(localStorage.getItem("current_user")).email,deliveryOption:i,deliveryAddress:o};m.a.post("/api/payments/charge",a).then((function(e){E(!1),n.push("/thank-you/payment/".concat(t.params.id))}))}else x.b.warning("Please select one delivery option.","Error",3e3)},totalAmount:a,isLoading:d,setIsLoading:E,printingService:s,deliveryOption:i,deliveryAddr:o})))},P=a(364),C=function(e){var t=e.match,a=e.totalAmount,n=e.history,i=Object(c.useState)(!0),s=Object(r.a)(i,2),o=s[0],u=s[1];return o?l.a.createElement(v.a,null,l.a.createElement(h.a,null,l.a.createElement(j.a,{className:"font-weight-bold mb-3 text-primary"},"Pay with Paypal"),l.a.createElement(P.PayPalButton,{amount:a,onSuccess:function(e,a){u(!1),x.b.success("Transaction completed by "+e.payer.name.given_name,"Success",3e3,null,null,"");var r={orderId:a.orderID,projectId:t.params.id};return m.a.post("/api/payments/paypal-transaction-complete",r).then((function(e){u(!0),n.push("/thank-you/payment/".concat(t.params.id))}))},options:{currency:"AUD",clientId:"Aa4mA8Iu7vmZRjug25Pg8Dn1JsxmrzCaYrQcPxucBxQfFROsKfnJPRxwIwJrZOdMM9-Gk4QfIskqIslP"}}))):l.a.createElement("div",{className:"loading"})},I=a(226),F=a(431),A=a(412),q=a(434),z=a(157),T=a(86),D=[{name:"Fast Track (4 Business Days)",value:"PS_DELIVERY_FAST_TRACK",price:20,currency:"AUD"},{name:"Priority (5-7 Business Days)",value:"PS_DELIVERY_PRIORITY",price:10,currency:"AUD"},{name:"Standard (9-11 Business Days)",value:"PS_DELIVERY_STANDARD",price:8,currency:"AUD"}],R=function(e){var t=e.setDeliveryOption,a=e.services,n=e.project,i=e.handleUpdateService,s=e.changeDeliveryAddr,m=Object(c.useState)([]),d=Object(r.a)(m,2),E=d[0],f=d[1],b=Object(c.useState)(0),g=Object(r.a)(b,2),y=g[0],O=g[1],x=Object(c.useState)(null),S=Object(r.a)(x,2),k=S[0],w=S[1];Object(c.useEffect)((function(){var e=[],t=0;a.forEach((function(a){if(0!==a.quantity&&0!==a.total_price){t+=parseFloat(a.total_price);var n=JSON.parse(a.orders);!1===n.some((function(e){return 1===e.depth}))&&n.unshift({name:a.name,depth:1}),n.forEach((function(t){e.push({service:a,order:t})}))}})),O(t),f(e)}),[a,n]);var _=function(e){var t=e.service,a=JSON.parse(t.orders),n=0,r=0;if(1===e.order.depth)t.orders="",t.quantity=0,t.total_price=0;else{var c=a.filter((function(t){return t.value!==e.order.value}));c.forEach((function(e){n+=e.quantity,r+=e.totalPrice})),t.quantity=n,t.total_price=r,t.orders=JSON.stringify(c)}i(t)},P=function(e){s(e)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,{className:"mb-5 invoice-contents"},l.a.createElement(h.a,{className:"d-flex flex-column justify-content-between"},l.a.createElement("div",{className:"d-flex flex-column"},l.a.createElement("div",{className:"d-flex flex-row justify-content-between pt-2 pb-2"},l.a.createElement("div",{className:"d-flex align-self-center"},l.a.createElement("img",{src:"/assets/img/logo-apirender.png",width:"200",style:{objectFit:"contain"},alt:"Logo"})),l.a.createElement("div",{className:"d-flex w-30 text-right align-self-center"},l.a.createElement("p",{className:"text-small text-semi-muted mb-0 w-100"},"APIrender.com Pty Ltd",l.a.createElement("br",null),"ABN 74 636 488 027",l.a.createElement("br",null),"Hamilton, Queensland 4007",l.a.createElement("br",null),"Australia"))),l.a.createElement("div",{className:"d-flex"},l.a.createElement("span",{className:"text-large text-primary"},n.project_name)),l.a.createElement("div",{className:"border-bottom pt-4 mb-5"}),l.a.createElement(I.a,{borderless:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"text-muted text-small mb-2 font-weight-medium"},"Item Name"),l.a.createElement("th",{className:"text-muted text-small mb-2 font-weight-medium"},"Count"),l.a.createElement("th",{className:"text-right text-muted text-small mb-2 font-weight-medium"},"Price"),l.a.createElement("th",null))),l.a.createElement("tbody",null,E.map((function(e,t){return l.a.createElement("tr",{key:t},1===e.order.depth&&l.a.createElement(l.a.Fragment,null,l.a.createElement("td",null,e.order.name&&e.order.name),l.a.createElement("td",null,e.order.quantity&&e.order.quantity),l.a.createElement("td",{className:"text-right"},e.order.totalPrice&&"AU$".concat(e.order.totalPrice)),l.a.createElement("td",null,e.order.price&&e.order.quantity&&l.a.createElement("a",{href:"#!",onClick:function(){_(e)}},l.a.createElement("i",{className:"simple-icon-close"})))),1!==e.order.depth&&l.a.createElement(l.a.Fragment,null,l.a.createElement("td",{className:"pl-4 padding-v-25"},"- ",e.order.name,l.a.createElement("span",{className:"pl-2 text-primary"},3===e.order.depth?"".concat(e.order.parent):"")),l.a.createElement("td",{className:"padding-v-25"},e.order.quantity),l.a.createElement("td",{className:"text-right padding-v-25"},0===e.order.totalPrice?"Free":"AU$ ".concat(e.order.totalPrice)),l.a.createElement("td",{className:"padding-v-25"},l.a.createElement("a",{href:"#!",onClick:function(){_(e)}},l.a.createElement("i",{className:"simple-icon-close"})))))}))))),"PRINTING_SERVICES"===n.category&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{className:"text-muted"},"We provide affordable delivery to the following countries through our network of printing partnerships: Australia, Austria, Belgium, Brazil, Canada, Cyprus, the Czech Republic, Denmark, Finland, France, French Guiana, French Polynesia, Germany, Gibraltar, Greece, Greenland, Guadeloupe, Guam, Hong Kong, Iceland, Ireland, Italy, Liechtenstein, Luxembourg, Malaysia, Malta, Martinique, Mexico, Monaco, the Netherlands, New Caledonia, New Zealand, Norway, Poland, Portugal, Puerto Rico, R\xe9union, Singapore, Spain, Sweden, Switzerland, the United Kingdom, the United States of America and U.S. Virgin Islands."),l.a.createElement(o.a,{className:"mb-4"},l.a.createElement(u.a,{sm:"12",lg:"12"},l.a.createElement(j.a,{className:"text-primary mb-4 font-weight-bolder"},"Delivery Options")),D&&D.map((function(e,a){return l.a.createElement(u.a,{sm:"12",lg:"12",md:"12",key:a},l.a.createElement(v.a,{className:"pt-3 pb-3 pl-3 pr-3"},l.a.createElement("div",{className:"d-flex flex-grow-1 min-width-zero",style:{alignItems:"center",justifyContent:"space-between"}},l.a.createElement(N.a,{check:!0},l.a.createElement(j.a,{check:!0},l.a.createElement(F.a,{type:"radio",name:"DELIVERY_RADIO",id:"RADIO_".concat(e.value),value:e.name,label:e.name,onChange:function(a){return function(e,a){t(e.target.value,a),w({option:e.target.value,price:a})}(a,e.price)}}))),l.a.createElement("div",{className:"option-quantity-input"},0!==e.price&&l.a.createElement(A.a,null,l.a.createElement(q.a,{addonType:"prepend"},"$"),l.a.createElement(z.a,{value:0===e.price?"Free":e.price,readOnly:!0}))))))}))),l.a.createElement(N.a,null,l.a.createElement(j.a,{className:"text-primary font-weight-bolder"},"Delivery Address")),l.a.createElement(N.a,{row:!0},l.a.createElement(u.a,{sm:"6"},l.a.createElement(j.a,null,"Street Name"),l.a.createElement(z.a,{onChange:P,type:"text",name:"streetName",id:"streetName"})),l.a.createElement(u.a,{sm:"6"},l.a.createElement(j.a,null,"Street Number"),l.a.createElement(z.a,{onChange:P,type:"text",name:"streetNumber",id:"streetNumber"}))),l.a.createElement(N.a,{row:!0},l.a.createElement(u.a,{sm:"6"},l.a.createElement(j.a,null,"Unit Number (if applicable)"),l.a.createElement(z.a,{onChange:P,type:"text",name:"unitNumber",id:"unitNumber"})),l.a.createElement(u.a,{sm:"6"},l.a.createElement(j.a,null,"Suburb"),l.a.createElement(z.a,{onChange:P,type:"text",name:"suburb",id:"suburb"}))),l.a.createElement(N.a,{row:!0},l.a.createElement(u.a,{sm:"6"},l.a.createElement(j.a,null,"Zip Code"),l.a.createElement(z.a,{onChange:P,type:"text",name:"zipCode",id:"zipCode"})),l.a.createElement(u.a,{sm:"6"},l.a.createElement(j.a,null,"Country"),l.a.createElement(z.a,{onChange:P,type:"text",name:"country",id:"country"})))),l.a.createElement("div",{className:"d-flex flex-column"},l.a.createElement("div",{className:"border-bottom pt-3 mb-5"}),l.a.createElement(I.a,{borderless:!0,className:"d-flex justify-content-end"},l.a.createElement("tbody",null,l.a.createElement("tr",{className:"font-weight-bold"},l.a.createElement("td",{className:"text-semi-muted"},"Total :"),l.a.createElement("td",{className:"text-right"},"AU$ ",(y+(k&&k.price?k.price:0)).toFixed(2))))),l.a.createElement("div",{className:"border-bottom pt-3 mb-5"})),l.a.createElement("p",null,l.a.createElement(T.b,{exact:!0,to:"/app/projects/add-service/".concat(n._id),className:"top-right-button btn btn-primary btn-lg"},l.a.createElement(p.a,{id:"projects.add-more-services"}))))))};t.default=Object(i.c)((function(e){e.intl;var t=e.match,a=e.history,i=Object(c.useState)([]),s=Object(r.a)(i,2),d=s[0],E=s[1],f=Object(c.useState)(null),b=Object(r.a)(f,2),g=b[0],v=b[1],h=Object(c.useState)(!1),y=Object(r.a)(h,2),N=y[0],j=y[1],O=Object(c.useState)(null),x=Object(r.a)(O,2),S=x[0],k=x[1],w=Object(c.useState)(0),P=Object(r.a)(w,2),I=P[0],F=P[1],A=Object(c.useState)({streetName:null,streetNumber:null,unitNumber:null,suburb:null,zipCode:null,country:null}),q=Object(r.a)(A,2),z=q[0],T=q[1];Object(c.useEffect)((function(){D()}),[]);var D=function(){m.a.post("/api/projects/get-info?_id=".concat(t.params.id)).then((function(e){return e.data})).then((function(e){v(e.project),E(e.services),F(e.services.reduce((function(e,t){return e+(t.total_price||0)}),0)),j(!0)}))};return N?l.a.createElement(l.a.Fragment,null,l.a.createElement(o.a,null,l.a.createElement(u.a,{xxs:"12"},l.a.createElement("h1",null,l.a.createElement(p.a,{id:"projects.payment"})),l.a.createElement("span",{className:"pt-0 ml-4 breadcrumb-container d-none text-primary text-one d-sm-block d-lg-inline-block"},"( ",g.project_name," )"),l.a.createElement(u.b,{className:"mb-5"}))),l.a.createElement(o.a,null,l.a.createElement(u.a,{sm:"12",md:"8",className:"mb-4"},l.a.createElement(R,{services:d,project:g,handleUpdateService:function(e){m.a.post("/api/services/update",e).then((function(e){return e.data})).then((function(e){D()}))},setDeliveryOption:function(e,t){var a=d.reduce((function(e,t){return e+(t.total_price||0)}),0);F(a+t),k(e)},changeDeliveryAddr:function(e){T(Object(n.a)(Object(n.a)({},z),{},{[e.target.name]:e.target.value.trim()}))}})),l.a.createElement(u.a,{sm:"12",md:"4",className:"mb-4"},l.a.createElement(_,{match:t,totalAmount:I,delivery:S,deliveryAddr:z,history:a,isPrintingService:"PRINTING_SERVICES"===g.category}),l.a.createElement(C,{match:t,totalAmount:I,history:a,delivery:S,isPrintingService:"PRINTING_SERVICES"===g.category})))):l.a.createElement("div",{className:"loading"})}))},382:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(12),l=a(81),i=a(4),s=a.n(i),m=a(11),o=a.n(m),u=a(212),p=a(153),d=a(396),E=a(432),f=a(433),b=a(391),g=a(393),v=a(134),h=a(86),y=a(82),N=a(83),j=Object(v.c)((function(e){var t=e.intl,a=e.changeOrderBy,n=e.changePageSize,r=e.selectedPageSize,c=e.totalItemCount,m=e.selectedOrderOption,o=(e.match,e.startIndex),v=e.endIndex,j=e.onSearchKey,O=e.orderOptions,x=e.pageSizes,S=e.heading,k=e.projectID,w=e.project,_=e.totalPrice,P=Object(i.useState)(!1),C=Object(l.a)(P,2),I=C[0],F=C[1],A=t.messages;return s.a.createElement(u.a,null,s.a.createElement(y.a,{xxs:"12"},s.a.createElement("div",{className:"mb-2"},s.a.createElement("h1",null,S),!1===w.is_paid&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"text-zero top-right-button-container"},s.a.createElement(h.b,{exact:!0,to:"/app/projects/add-service/".concat(k),className:"top-right-button btn btn-primary btn-lg"},s.a.createElement(N.a,{id:"projects.add-new-service"})),"  ",0!==_&&s.a.createElement(h.b,{exact:!0,to:"/app/projects/payment/".concat(k),className:"top-right-button btn btn-danger btn-lg"},"PAY - AU$",_.toFixed(2))))),s.a.createElement("div",{className:"mb-2"},s.a.createElement(p.a,{color:"empty",className:"pt-0 pl-0 d-inline-block d-md-none",onClick:function(){return F(!I)}},s.a.createElement(N.a,{id:"pages.display-options"})," ",s.a.createElement("i",{className:"simple-icon-arrow-down align-middle"})),s.a.createElement(d.a,{isOpen:I,className:"d-md-block",id:"displayOptions"},s.a.createElement("div",{className:"d-block d-md-inline-block pt-1"},s.a.createElement(E.a,{className:"mr-1 float-md-left btn-group mb-1"},s.a.createElement(f.a,{caret:!0,color:"outline-dark",size:"xs"},m.label),s.a.createElement(b.a,null,O.map((function(e,t){return s.a.createElement(g.a,{key:t,onClick:function(){return a(e.column)}},e.label)})))),s.a.createElement("div",{className:"search-sm d-inline-block float-md-left mr-1 mb-1 align-top"},s.a.createElement("input",{type:"text",name:"keyword",id:"search",placeholder:A["menu.search"],onKeyPress:function(e){return j(e)}}))),s.a.createElement("div",{className:"float-md-right pt-1"},s.a.createElement("span",{className:"text-muted text-small mr-1"},"".concat(o,"-").concat(v," of ").concat(c," ")),s.a.createElement(E.a,{className:"d-inline-block"},s.a.createElement(f.a,{caret:!0,color:"outline-dark",size:"xs"},r),s.a.createElement(b.a,{right:!0},x.map((function(e,t){return s.a.createElement(g.a,{key:t,onClick:function(){return n(e)}},e)}))))))),s.a.createElement(y.b,{className:"mb-5"})))})),O=a(226),x=a(397),S=a(225),k=a(110),w=a(102),_=s.a.memo((function(e){var t=e.items,a=e.currentPage,n=e.totalPage,r=e.onChangePage,c=e.project;return s.a.createElement(u.a,null,s.a.createElement(y.a,{xxs:"12",className:"mb-3"},s.a.createElement(O.a,{responsive:!0,className:"r-table table table-divided"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null),s.a.createElement("th",null,"Product Type"),s.a.createElement("th",null,"Quantity"),s.a.createElement("th",null,"Cost"),s.a.createElement("th",null,"Status"),s.a.createElement("th",null))),s.a.createElement("tbody",null,t.map((function(e,t){var a=w.c[c.category].find((function(t){return t.value===e.value}));return s.a.createElement("tr",{role:"row",key:t},s.a.createElement("td",{role:"cell",className:"p-0 list-item-heading w-10"},s.a.createElement("div",{className:"d-flex align-items-center justify-center"},s.a.createElement("img",{alt:e.desc,src:a.img,className:"responsive border-0 card-img-left",style:{width:"100px",height:"85px"}}))),s.a.createElement("td",{role:"cell",className:"truncate align-middle list-item-heading w-40"},e.name,s.a.createElement("span",{className:"text-small text-primary"}," ","( +",function(e){var t=JSON.parse(e);return(t=t.filter((function(e){return 1!=e.depth}))).reduce((function(e,t){return e+(t.quantity||0)}),0)}(e.orders)," options )")),s.a.createElement("td",{role:"cell",className:"align-middle list-item-heading w-10"},e.quantity),s.a.createElement("td",{role:"cell",className:"align-middle list-item-heading w-10"},e.total_price>0?"$"+e.total_price:""),s.a.createElement("td",{role:"cell",className:"align-middle list-item-heading w-20 text-small"},!1===e.is_paid&&s.a.createElement(x.a,{color:"danger",pill:!0},s.a.createElement(N.a,{id:"projects.payment-required"})),!0===e.is_paid&&s.a.createElement(x.a,{color:k.a[e.status],pill:!0},e.status)),s.a.createElement("td",{role:"cell",className:"truncate align-middle list-item-heading w-10"},!0===e.is_paid&&"WAITING FOR FILES"===e.status&&s.a.createElement(h.b,{exact:!0,to:"/app/projects/briefing/".concat(e._id),className:"top-right-button btn btn-primary btn-sm"},s.a.createElement(N.a,{id:"projects.send-files"})),!0===e.is_paid&&"REQUEST QUOTE"===e.status&&s.a.createElement(h.b,{exact:!0,to:"/app/projects/briefing/".concat(e._id),className:"top-right-button btn btn-primary btn-sm"},"Proceed to Quote Request"),e.is_paid&&("IN PROGRESS"===e.status||"REVIEW"===e.status)&&s.a.createElement(h.b,{exact:!0,to:"/app/projects/view-briefing/".concat(e._id),className:"top-right-button btn btn-danger btn-sm"},s.a.createElement(N.a,{id:"projects.view-briefing"}))))}))))),s.a.createElement(S.a,{currentPage:a,totalPage:n,onChangePage:function(e){return r(e)}}))})),P=[{column:"desc",label:"Service Name"},{column:"price",label:"Price"},{column:"quantity",label:"Quantity"}],C=[10,20,50,100];t.default=function(e){var t=e.match,a=Object(i.useState)(!1),n=Object(l.a)(a,2),m=n[0],u=n[1],p=Object(i.useState)(1),d=Object(l.a)(p,2),E=d[0],f=d[1],b=Object(i.useState)(10),g=Object(l.a)(b,2),v=g[0],h=g[1],y=Object(i.useState)({column:"desc",label:"Service Name"}),N=Object(l.a)(y,2),O=N[0],x=N[1],S=Object(i.useState)(0),k=Object(l.a)(S,2),w=k[0],I=k[1],F=Object(i.useState)(1),A=Object(l.a)(F,2),q=A[0],z=A[1],T=Object(i.useState)(""),D=Object(l.a)(T,2),R=D[0],L=D[1],M=Object(i.useState)([]),U=Object(l.a)(M,2),B=U[0],Q=U[1],V=Object(i.useState)(""),$=Object(l.a)(V,2),J=$[0],K=$[1];Object(i.useEffect)((function(){f(1)}),[v,O]),Object(i.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/projects/detail?_id=".concat(t.params.id,"&pageSize=").concat(v,"&currentPage=").concat(E,"&orderBy=").concat(O.column,"&search=").concat(R)).then((function(e){return e.data})).then((function(e){K(e.project),z(e.totalPage),Q(e.services),I(e.totalItem),u(!0)})).catch((function(e){console.log(e.response.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u(!1),function(){e.apply(this,arguments)}()}),[v,E,O,R,t.params.id]);var G=(E-1)*v,Y=E*v;return m?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"disable-text-selection"},s.a.createElement(j,{heading:J.project_name,changeOrderBy:function(e){x(P.find((function(t){return t.column===e})))},changePageSize:h,selectedPageSize:v,totalItemCount:w,selectedOrderOption:O,match:t,startIndex:G,endIndex:Y,onSearchKey:function(e){"Enter"===e.key&&L(e.target.value.toLowerCase())},orderOptions:P,pageSizes:C,projectID:t.params.id,project:J,totalPrice:B.reduce((function(e,t){return e+t.total_price}),0)}),s.a.createElement(_,{items:B,currentPage:E,totalPage:q,onChangePage:f,project:J}))):s.a.createElement("div",{className:"loading"})}},383:function(e,t,a){"use strict";a.r(t);var n=a(81),r=a(4),c=a.n(r),l=a(25),i=a(134),s=a(11),m=a.n(s),o=a(365),u=(a(366),a(116)),p=a(212),d=a(153),E=a(396),f=a(432),b=a(433),g=a(391),v=a(393),h=a(86),y=a(82),N=a(83),j=Object(i.c)((function(e){var t=e.intl,a=e.changeOrderBy,l=e.changePageSize,i=e.selectedPageSize,s=e.totalItemCount,m=e.selectedOrderOption,o=(e.match,e.startIndex),u=e.endIndex,j=e.onSearchKey,O=e.orderOptions,x=e.pageSizes,S=e.heading,k=Object(r.useState)(!1),w=Object(n.a)(k,2),_=w[0],P=w[1],C=t.messages;return c.a.createElement(p.a,null,c.a.createElement(y.a,{xxs:"12"},c.a.createElement("div",{className:"mb-2"},c.a.createElement("h1",null,c.a.createElement(N.a,{id:S})),c.a.createElement("div",{className:"text-zero top-right-button-container"},c.a.createElement(h.b,{exact:!0,to:"/app/projects/new-project/",className:"top-right-button btn btn-primary btn-lg"},c.a.createElement(N.a,{id:"projects.add-new"})),"  ")),c.a.createElement("div",{className:"mb-2"},c.a.createElement(d.a,{color:"empty",className:"pt-0 pl-0 d-inline-block d-md-none",onClick:function(){return P(!_)}},c.a.createElement(N.a,{id:"pages.display-options"})," ",c.a.createElement("i",{className:"simple-icon-arrow-down align-middle"})),c.a.createElement(E.a,{isOpen:_,className:"d-md-block",id:"displayOptions"},c.a.createElement("div",{className:"d-block d-md-inline-block pt-1"},c.a.createElement(f.a,{className:"mr-1 float-md-left btn-group mb-1"},c.a.createElement(b.a,{caret:!0,color:"outline-dark",size:"xs"},m.label),c.a.createElement(g.a,null,O.map((function(e,t){return c.a.createElement(v.a,{key:t,onClick:function(){return a(e.column)}},e.label)})))),c.a.createElement("div",{className:"search-sm d-inline-block float-md-left mr-1 mb-1 align-top"},c.a.createElement("input",{type:"text",name:"keyword",id:"search",placeholder:C["menu.search"],onKeyPress:function(e){return j(e)}}))),c.a.createElement("div",{className:"float-md-right pt-1"},c.a.createElement("span",{className:"text-muted text-small mr-1"},"".concat(o,"-").concat(u," of ").concat(s," ")),c.a.createElement(f.a,{className:"d-inline-block"},c.a.createElement(b.a,{caret:!0,color:"outline-dark",size:"xs"},i),c.a.createElement(g.a,{right:!0},x.map((function(e,t){return c.a.createElement(v.a,{key:t,onClick:function(){return l(e)}},e)}))))))),c.a.createElement(y.b,{className:"mb-5"})))})),O=a(93),x=a(226),S=a(397),k=a(225),w=a(102),_=a(110),P=a(107),C=a.n(P),I=c.a.memo((function(e){var t=e.items,a=e.currentPage,n=e.totalPage,r=e.onChangePage,l=e.deleteProject,i=Object(O.g)();return c.a.createElement(p.a,null,c.a.createElement(y.a,{xxs:"12",className:"mb-3"},c.a.createElement(x.a,{responsive:!0,className:"r-table table table-divided"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Project Title"),c.a.createElement("th",null,"Reference"),c.a.createElement("th",null,"Project Category"),c.a.createElement("th",null,"Cost"),c.a.createElement("th",null,"Order Date"),c.a.createElement("th",null,"Status"))),c.a.createElement("tbody",null,t.map((function(e,t){return c.a.createElement("tr",{role:"row",key:t,className:"p-5",style:{cursor:"pointer"},onClick:function(t){return i.push("/app/projects/details/".concat(e._id))}},c.a.createElement("td",{role:"cell",className:"p-4 list-item-heading w-20"},c.a.createElement(h.b,{to:"/app/projects/details/".concat(e._id),className:"w-sm-100"},c.a.createElement("p",{className:"mb-1 truncate"},e.project_name))),c.a.createElement("td",{role:"cell",className:"p-4 text-primary w-10"},e.unique_id),c.a.createElement("td",{role:"cell",className:"p-4 text-muted w-15 w-sm-100"},w.b.find((function(t){return t.value===e.category})).desc),c.a.createElement("td",{role:"cell",className:"p-4 text-muted w-10 text-muted text-small w-sm-100"},"$",e.total_amount),c.a.createElement("td",{role:"cell",className:"p-4 w-20"},c.a.createElement("p",{className:"truncate text-muted text-small w-sm-100"},C()(e.date).format("LLLL"))),c.a.createElement("td",{role:"cell",className:"p-4 text-muted w-15"},c.a.createElement(S.a,{color:_.a[e.status],pill:!0},e.status)),c.a.createElement("td",{role:"cell",className:"p-4 text-muted w-10"},"DRAFT"===e.status&&c.a.createElement(d.a,{color:"danger",size:"xs",onClick:function(t){return l(t,e._id)}},"Delete")))}))))),c.a.createElement(k.a,{currentPage:a,totalPage:n,onChangePage:function(e){return r(e)}}))})),F=a(1),A=[{column:"project_name",label:"Project Name"},{column:"category",label:"Category"},{column:"status",label:"Status"},{column:"unique_id",label:"Reference"}],q=[10,20,50,100];t.default=Object(l.b)((function(e){return{loginUser:e.authUser.user}}),{setProjectMenuItems:F.M})(Object(i.c)(c.a.memo((function(e){var t=e.match,a=e.setProjectMenuItems,l=e.loginUser,i=Object(r.useState)(!1),s=Object(n.a)(i,2),p=s[0],d=s[1],E=Object(r.useState)(1),f=Object(n.a)(E,2),b=f[0],g=f[1],v=Object(r.useState)(10),h=Object(n.a)(v,2),y=h[0],N=h[1],O=Object(r.useState)({column:"project_name",label:"Project Name"}),x=Object(n.a)(O,2),S=x[0],k=x[1],w=Object(r.useState)(0),_=Object(n.a)(w,2),P=_[0],C=_[1],F=Object(r.useState)(1),z=Object(n.a)(F,2),T=z[0],D=z[1],R=Object(r.useState)(""),L=Object(n.a)(R,2),M=L[0],U=L[1],B=Object(r.useState)([]),Q=Object(n.a)(B,2),V=Q[0],$=Q[1];Object(r.useEffect)((function(){g(1)}),[y,S]),Object(r.useEffect)((function(){J()}),[y,b,S,M]);var J=function(){m.a.post("/api/projects/my-list?pageSize=".concat(y,"&currentPage=").concat(b,"&orderBy=").concat(S.column,"&search=").concat(M,"&userID=").concat(l._id)).then((function(e){return e.data})).then((function(e){D(e.totalPage),$(e.data),C(e.totalItem),d(!0)}))},K=(b-1)*y,G=b*y;return p?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"disable-text-selection"},c.a.createElement(j,{heading:"projects.all",changeOrderBy:function(e){k(A.find((function(t){return t.column===e})))},changePageSize:N,selectedPageSize:y,totalItemCount:P,selectedOrderOption:S,match:t,startIndex:K,endIndex:G,onSearchKey:function(e){"Enter"===e.key&&U(e.target.value.toLowerCase())},orderOptions:A,pageSizes:q}),c.a.createElement(I,{items:V,currentPage:b,totalPage:T,onChangePage:g,deleteProject:function(e,t){e.preventDefault(),Object(o.confirmAlert)({title:"Confirm to Delete",message:"Are you sure you want to delete this project?",buttons:[{label:"Yes",onClick:function(){m.a.post("/api/projects/delete?_id=".concat(t)).then((function(e){J(),a(),u.a.success("The project has been deleted successfully.","Success",3e3,null,null,"")}))}},{label:"No",onClick:function(){}}]})}}))):c.a.createElement("div",{className:"loading"})}))))}}]);
//# sourceMappingURL=projects-new.ef0720ad.chunk.js.map