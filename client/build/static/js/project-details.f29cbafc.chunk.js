(this["webpackJsonpapirender-dashboard"]=this["webpackJsonpapirender-dashboard"]||[]).push([[17],{124:function(e,a,t){"use strict";var l=t(7),n=t(11),c=t(88),s=t(87),r=t(3),i=t.n(r),m=t(34),o=t.n(m),d=t(80),p=t.n(d),u=t(83),b=["className","cssModule","active","tag","innerRef"],g={tag:u.q,innerRef:o.a.oneOfType([o.a.object,o.a.func,o.a.string]),disabled:o.a.bool,active:o.a.bool,className:o.a.string,cssModule:o.a.object,onClick:o.a.func,href:o.a.any},E=function(e){function a(a){var t;return(t=e.call(this,a)||this).onClick=t.onClick.bind(Object(c.a)(t)),t}Object(s.a)(a,e);var t=a.prototype;return t.onClick=function(e){this.props.disabled?e.preventDefault():("#"===this.props.href&&e.preventDefault(),this.props.onClick&&this.props.onClick(e))},t.render=function(){var e=this.props,a=e.className,t=e.cssModule,c=e.active,s=e.tag,r=e.innerRef,m=Object(n.a)(e,b),o=Object(u.m)(p()(a,"nav-link",{disabled:m.disabled,active:c}),t);return i.a.createElement(s,Object(l.a)({},m,{ref:r,onClick:this.onClick,className:o}))},a}(i.a.Component);E.propTypes=g,E.defaultProps={tag:"a"},a.a=E},179:function(e,a,t){"use strict";var l=t(3),n=t.n(l),c=t(124);a.a=e=>{let{children:a}=e;const t=Object(l.useRef)(),[s,r]=Object(l.useState)(!1),i=e=>{if(s){const a=t.current;if(a.contains(e.target)||a===e.target)return;r(!1)}};return Object(l.useEffect)(()=>(["click","touchstart"].forEach(e=>document.addEventListener(e,i,!1)),()=>{["click","touchstart"].forEach(e=>document.removeEventListener(e,i,!1))}),[s]),n.a.createElement("div",{ref:t,className:"app-menu ".concat(s?"shown":"")},a,n.a.createElement(c.a,{className:"app-menu-button d-inline-block d-xl-none",onClick:()=>r(!s)},n.a.createElement("i",{className:"simple-icon-options"})))}},181:function(e,a,t){"use strict";var l=t(3),n=t.n(l),c=t(411),s=t(412),r=t(124),i=t(78);a.a=e=>{let{totalPage:a=0,currentPage:t=1,numberLimit:l=5,lastIsActive:m=!0,firstIsActive:o=!0,onChangePage:d}=e,p=1,u=l;l>a?(p=1,u=a):t<=parseInt(l/2,10)?(p=1,u=l):t+parseInt(l/2,10)<=a?(p=t-parseInt(l/2,10),u=t+parseInt(l/2,10)):(p=a-(l-1),u=a),p=0===p?1:p;const b=[];for(let n=p;n<=u;n+=1)b.push(n);const g=t<=1?"disabled":"",E=t>=a?"disabled":"",h=t<=1?"disabled":"",N=t>=a?"disabled":"";return a>1?n.a.createElement(i.a,{xxs:"12",className:"mt-3 mb-3"},n.a.createElement(c.a,{className:"pagination justify-content-center"},o&&n.a.createElement(s.a,{className:"page-item ".concat(g)},n.a.createElement(r.a,{className:"page-link first c-pointer",onClick:()=>d(1)},n.a.createElement("i",{className:"simple-icon-control-start"}))),n.a.createElement(s.a,{className:"page-item ".concat(h)},n.a.createElement(r.a,{className:"page-link prev c-pointer",onClick:()=>d(t-1)},n.a.createElement("i",{className:"simple-icon-arrow-left"}))),b.map(e=>n.a.createElement(s.a,{key:e,className:"page-item ".concat(t===e&&"active")},n.a.createElement(r.a,{className:"page-link c-pointer",onClick:()=>d(e)},e))),n.a.createElement(s.a,{className:"page-item ".concat(N)},n.a.createElement(r.a,{className:"page-link next c-pointer",onClick:()=>d(t+1)},n.a.createElement("i",{className:"simple-icon-arrow-right"}))),m&&n.a.createElement(s.a,{className:"page-item ".concat(E)},n.a.createElement(r.a,{className:"page-link last c-pointer",onClick:()=>d(a)},n.a.createElement("i",{className:"simple-icon-control-end"}))))):n.a.createElement(i.a,{xxs:"12",className:"mt-2"})}},230:function(e,a,t){"use strict";var l=t(7),n=t(11),c=t(3),s=t.n(c),r=t(34),i=t.n(r),m=t(80),o=t.n(m),d=t(83),p=["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"],u={className:i.a.string,cssModule:i.a.object,size:i.a.string,bordered:i.a.bool,borderless:i.a.bool,striped:i.a.bool,dark:i.a.bool,hover:i.a.bool,responsive:i.a.oneOfType([i.a.bool,i.a.string]),tag:d.q,responsiveTag:d.q,innerRef:i.a.oneOfType([i.a.func,i.a.string,i.a.object])},b=function(e){var a=e.className,t=e.cssModule,c=e.size,r=e.bordered,i=e.borderless,m=e.striped,u=e.dark,b=e.hover,g=e.responsive,E=e.tag,h=e.responsiveTag,N=e.innerRef,f=Object(n.a)(e,p),v=Object(d.m)(o()(a,"table",!!c&&"table-"+c,!!r&&"table-bordered",!!i&&"table-borderless",!!m&&"table-striped",!!u&&"table-dark",!!b&&"table-hover"),t),k=s.a.createElement(E,Object(l.a)({},f,{ref:N,className:v}));if(g){var j=Object(d.m)(!0===g?"table-responsive":"table-responsive-"+g,t);return s.a.createElement(h,{className:j},k)}return k};b.propTypes=u,b.defaultProps={tag:"table",responsiveTag:"div"},a.a=b},396:function(e,a,t){"use strict";t.r(a);var l=t(3),n=t.n(l),c=t(8),s=t.n(c),r=t(216),i=t(151),m=t(413),o=t(453),d=t(452),p=t(408),u=t(410),b=t(128),g=t(78),E=t(79);t(145);var h=Object(b.c)(e=>{let{intl:a,changeOrderBy:t,changePageSize:c,selectedPageSize:s,totalItemCount:b,selectedOrderOption:h,match:N,startIndex:f,endIndex:v,onSearchKey:k,orderOptions:j,pageSizes:y,heading:O}=e;const[x,S]=Object(l.useState)(!1),{messages:C}=a;return n.a.createElement(r.a,null,n.a.createElement(g.a,{xxs:"12"},n.a.createElement("div",{className:"mb-2"},n.a.createElement("h1",null,O)),n.a.createElement("div",{className:"mb-2"},n.a.createElement(i.a,{color:"empty",className:"pt-0 pl-0 d-inline-block d-md-none",onClick:()=>S(!x)},n.a.createElement(E.a,{id:"pages.display-options"})," ",n.a.createElement("i",{className:"simple-icon-arrow-down align-middle"})),n.a.createElement(m.a,{isOpen:x,className:"d-md-block",id:"displayOptions"},n.a.createElement("div",{className:"d-block d-md-inline-block pt-1"},n.a.createElement(o.a,{className:"mr-1 float-md-left btn-group mb-1"},n.a.createElement(d.a,{caret:!0,color:"outline-dark",size:"xs"},h.label),n.a.createElement(p.a,null,j.map((e,a)=>n.a.createElement(u.a,{key:a,onClick:()=>t(e.column)},e.label)))),n.a.createElement("div",{className:"search-sm d-inline-block float-md-left mr-1 mb-1 align-top"},n.a.createElement("input",{type:"text",name:"keyword",id:"search",placeholder:C["menu.search"],onKeyPress:e=>k(e)}))),n.a.createElement("div",{className:"float-md-right pt-1"},n.a.createElement("span",{className:"text-muted text-small mr-1"},"".concat(f,"-").concat(v," of ").concat(b," ")),n.a.createElement(o.a,{className:"d-inline-block"},n.a.createElement(d.a,{caret:!0,color:"outline-dark",size:"xs"},s),n.a.createElement(p.a,{right:!0},y.map((e,a)=>n.a.createElement(u.a,{key:a,onClick:()=>c(e)},e))))))),n.a.createElement(g.b,{className:"mb-5"})))}),N=t(230),f=t(414),v=t(82),k=t(181),j=t(103),y=t(20),O=t(95),x=t.n(O),S=t(179);var C=Object(y.b)(null,{})(e=>{let{customer:a,match:t,history:l}=e;return n.a.createElement(S.a,null,n.a.createElement(x.a,{options:{suppressScrollX:!0,wheelPropagation:!1}},n.a.createElement("div",{className:"p-4"},n.a.createElement("p",{className:"text-muted text-small"},n.a.createElement(E.a,{id:"pages.customer-detail"})),n.a.createElement("ul",{className:"list-unstyled mb-2"},n.a.createElement("li",{className:"nav-item text-center"},n.a.createElement("img",{src:"/".concat(a.avatar),alt:"Avatar",className:"rounded-circle",width:"100",height:"100"})),n.a.createElement("li",{className:"nav-item text-center"},n.a.createElement("span",{className:"text-primary"},"".concat(a.first_name," ").concat(a.last_name))),n.a.createElement("li",{className:"nav-item text-center"},"Company: ",n.a.createElement("span",{className:"text-muted"},a.company_name))))))}),P=t(97);var w=n.a.memo(e=>{let{items:a,currentPage:t,totalPage:l,onChangePage:c,project:s}=e;return n.a.createElement(n.a.Fragment,null,n.a.createElement(r.a,{className:"app-row"},n.a.createElement(g.a,{xxs:"12",className:"mb-3"},n.a.createElement(N.a,{responsive:!0,className:"r-table table table-divided"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"Product Type"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Cost"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null))),n.a.createElement("tbody",null,a.map((e,a)=>{const t=P.c[s.category].find(a=>a.value===e.value);return n.a.createElement("tr",{role:"row",key:a},n.a.createElement("td",{role:"cell",className:"p-0 list-item-heading w-10"},n.a.createElement("div",{className:"d-flex align-items-center justify-center"},n.a.createElement("img",{alt:e.desc,src:t.img,className:"responsive border-0 card-img-left",style:{width:"100px",height:"85px"}}))),n.a.createElement("td",{role:"cell",className:"truncate align-middle list-item-heading w-40"},e.name,n.a.createElement("span",{className:"text-small text-primary"}," ( +",(e=>{let a=JSON.parse(e);return a=a.filter((function(e){return 1!=e.depth})),a.reduce((e,a)=>e+(a.quantity||0),0)})(e.orders)," options )")),n.a.createElement("td",{role:"cell",className:"align-middle list-item-heading w-10 text-muted text-small"},e.quantity),n.a.createElement("td",{role:"cell",className:"align-middle list-item-heading w-10 text-muted text-small"},"$",e.total_price),n.a.createElement("td",{role:"cell",className:"align-middle list-item-heading w-20 text-small"},n.a.createElement(f.a,{color:j.a[e.status],pill:!0},e.status)),n.a.createElement("td",{role:"cell",className:"truncate align-middle list-item-heading w-10"},e.is_paid&&n.a.createElement(v.b,{exact:!0,to:"/admin/projects/briefing/".concat(e._id),className:"top-right-button btn btn-primary btn-sm"},n.a.createElement(E.a,{id:"projects.view-briefing"}))))})))),n.a.createElement(k.a,{currentPage:t,totalPage:l,onChangePage:e=>c(e)})),n.a.createElement(C,{customer:s.user_id}))});const I=[{column:"desc",label:"Service Name"},{column:"price",label:"Price"},{column:"quantity",label:"Quantity"}],z=[10,20,50,100];a.default=e=>{let{match:a}=e;const[t,c]=Object(l.useState)(!1),[r,i]=Object(l.useState)("thumblist"),[m,o]=Object(l.useState)(1),[d,p]=Object(l.useState)(10),[u,b]=Object(l.useState)({column:"desc",label:"Service Name"}),[g,E]=Object(l.useState)(!1),[N,f]=Object(l.useState)(0),[v,k]=Object(l.useState)(1),[j,y]=Object(l.useState)(""),[O,x]=Object(l.useState)([]),[S,C]=Object(l.useState)([]),[P,M]=Object(l.useState)("");Object(l.useEffect)(()=>{o(1)},[d,u]),Object(l.useEffect)(()=>{c(!1),async function(){await s.a.get("/api/projects/detail?_id=".concat(a.params.id,"&pageSize=").concat(d,"&currentPage=").concat(m,"&orderBy=").concat(u.column,"&search=").concat(j)).then(e=>e.data).then(e=>{console.log(e),M(e.project),k(e.totalPage),C(e.services),x([]),f(e.totalItem),c(!0)})}()},[d,m,u,j,a.params.id]);const T=(m-1)*d,_=m*d;return t?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"disable-text-selection"},n.a.createElement(h,{heading:P.project_name,displayMode:r,changeDisplayMode:i,changeOrderBy:e=>{b(I.find(a=>a.column===e))},changePageSize:p,selectedPageSize:d,totalItemCount:N,selectedOrderOption:u,match:a,startIndex:T,endIndex:_,selectedItemsLength:O?O.length:0,itemsLength:S?S.length:0,onSearchKey:e=>{"Enter"===e.key&&y(e.target.value.toLowerCase())},orderOptions:I,pageSizes:z,projectID:a.params.id,project:P,toggleModal:()=>E(!g),totalPrice:S.reduce((function(e,a){return e+a.total_price}),0)}),n.a.createElement(w,{items:S,displayMode:r,selectedItems:O,currentPage:m,totalPage:v,onChangePage:o,projectID:a.params.id,project:P}))):n.a.createElement("div",{className:"loading"})}}}]);
//# sourceMappingURL=project-details.f29cbafc.chunk.js.map